import{b as L,bF as N,r as c,bG as I,a,a8 as w,bH as M,av as T,bk as S,aa as g,bI as b,bJ as p,g as C,u as y,j as s,bK as E,bA as U,aK as $,a4 as B,bL as O,a9 as P,bM as R,bN as D,bO as q,bP as F,bQ as K,bR as A,bS as G,bT as H,bU as J}from"./index-B1KXs2zi.js";const e={director:"director",admin:"admin",programmer:"programmer",smm:"smm",accountant:"accountant",operator:"operator"},Q=[{to:"register",name:"Registratsiya",icon:"fa-edit",system:["center","school"],roles:!0},{to:"taskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.operator]},{to:"adminTaskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.admin]},{to:"calendar",name:"Kalendar",icon:"fas fa-calendar-times",system:["school"],roles:[e.director,e.admin]},{to:"students",name:"O'quvchilar",icon:"fa-user-graduate",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"groups",name:"Guruhlar",icon:"fa-users",system:["center"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"groups",name:"Sinflar",icon:"fa-users",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"teacher",name:"O'qituvchilar",icon:"fa-user-tie",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"vacancyPage",name:"Vakansiyalar",icon:"fa-tasks",system:["center","school"],roles:[e.director,e.programmer],branches:!0},{to:"timeList",name:"Time List",icon:"fa-clock",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"time",name:"Time Table",icon:"fa-clock",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"employer",name:"Employers",icon:"fa-user-graduate",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"flows",name:"Flows",icon:"fa-user-graduate",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"class",name:"Class",icon:"fa-user-graduate",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"contract",name:"Contract",icon:"fa-file-contract",system:["center","school"],roles:[e.admin,e.director,e.programmer]},{to:"capital",name:"Capital",icon:"fa-book",system:["center","school"],roles:[e.admin,e.director,e.programmer,e.accountant],branches:!0},{to:"accounting",name:"Buxgalteriya ",icon:"fa-calculator",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0,multi:!0},{to:"rooms",name:"Honalar",icon:"fa-door-closed",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"../../",name:"Web-Sayt",system:["center","school"],roles:[e.smm]},{to:"adminTaskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.admin]}],V="_menu_d660w_1",W="_menu__user_d660w_12",z="_userImage_d660w_22",X="_userInfo_d660w_27",Y="_menu__inner_d660w_33",Z="_link_d660w_57",ee="_active_d660w_63",se="_link__href_d660w_71",ae="_link__title_d660w_82",re="_menu__footer_d660w_86",ne="_menu__exit_d660w_103",r={menu:V,menu__user:W,userImage:z,userInfo:X,menu__inner:Y,link:Z,active:ee,link__href:se,link__title:ae,menu__footer:re,menu__exit:ne},te=()=>{const i=L(),{pathname:_}=N(),{theme:l}=c.useContext(I);a(w),a(M);const t=a(T);a(S);const m=a(g),o=a(b),u=a(p),h=a(C),k=y(),x=()=>{i("/login"),k(O())},j=c.useCallback(()=>Q.map((n,v)=>{if(u?.length>1&&!n.multi||u?.length>1&&n.multi||`${h?.id}`,!(u>1&&!n.branches)&&n?.system.includes(o.name)&&(typeof n.roles=="object"&&t?.job.some(d=>n.roles.includes(d))||typeof n.roles=="boolean"&&n.roles))return s.jsx(E,{to:n.to,className:({isActive:d})=>d?`${r.link} ${r.active}`:`${r.link}`,children:s.jsxs("span",{className:r.link__href,children:[s.jsx("i",{className:`fas ${n.icon} icon-link`}),s.jsx("span",{className:r.link__title,children:n.name})]})},v)}),[l,u,h,t])();return s.jsxs("nav",{className:r.menu,children:[s.jsxs("div",{className:r.menu__user,children:[s.jsx(U,{to:`profile/${m}`,children:s.jsx("img",{className:r.userImage,src:t?.profile_img??$,alt:""})}),s.jsxs("div",{className:r.userInfo,children:[s.jsx("h3",{children:t?.username}),s.jsx("p",{children:t?.job[0]})]})]}),s.jsx("ul",{className:r.menu__inner,children:t?.job?j:s.jsx(B,{})}),s.jsx("div",{className:r.menu__footer,children:s.jsxs("div",{className:r.menu__exit,onClick:x,children:[s.jsx("i",{className:"fas fa-sign-out-alt"}),s.jsx("h2",{children:"Chiqish"})]})})]})},oe="_main_1vxf6_1",ce="_main__content_1vxf6_7",f={main:oe,main__content:ce},le=()=>{const i=a(g),_=a(P),l=a(R),t=a(p);a(D);const m=a(b),o=y();return c.useEffect(()=>{i&&o(q(i))},[i,_]),c.useEffect(()=>{l||o(F())},[l]),c.useEffect(()=>{m.id&&o(K(m.id))},[m.id]),c.useEffect(()=>{t[0]?.id?o(A(t[0].id)):o(G())},[t[0]?.id]),s.jsxs(s.Fragment,{children:[s.jsx(H,{}),s.jsx(te,{}),s.jsx("main",{className:f.main,children:s.jsx("div",{className:f.main__content,children:s.jsx(J,{})})})]})};export{le as Layout};
