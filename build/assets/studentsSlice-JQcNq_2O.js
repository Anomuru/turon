import{a as d,u as n,A as l,d as p,h as a,e as b,c as T}from"./index-Cux8sda1.js";d("studentsSlice/fetchNewStudentsData",async()=>{const{request:t}=n();return await t(`${l}Students/students_list/`,"GET",null,a())});const o=d("studentsSlice/fetchOnlyNewStudentsData",async({subjId:t,fromAge:e,untilAge:s,langId:u,userBranchId:$})=>{const{request:r}=n();return await r(`${l}Students/new-registered-students/?subject=${t}&age=${e}-${s}&language=${u}&branch=${p()}`,"GET",null,a())}),c=d("studentsSlice/fetchStudentsByClass",({branch:t,number:e})=>{const{request:s}=n();return s(`${l}Students/new-registered-students/?branch=${t}&number=${e}`,"GET",null,a())}),i=d("studentsSlice/fetchOnlyStudyingStudentsData",async({subjId:t,fromAge:e,untilAge:s,langId:u,userBranchId:$})=>{const{request:r}=n();return await r(`${l}Students/active-students/?subject=${t}&age=${e}-${s}&language=${u}&branch=${p()}`,"GET",null,a())}),S=d("studentsSlice/fetchOnlyDeletedStudentsData",async({id:t})=>{const{request:e}=n();return await e(`${l}Students/deleted-group-students/?branch=${t}`,"GET",null,a())}),f=d("studentsSlice/fetchFilteredStudents",async t=>{const{request:e}=n();return await e(`${l}Students/api/filter_students_subject/${t}/`,"GET",null,a())}),g=d("studentsSlice/fetchClassNumberList",async({branch:t})=>{const{request:e}=n();return await e(`${l}Class/class_number_list/?branch=${t}`,"GET",null,a())}),y=d("studentsSlice/fetchClassColors",async()=>{const{request:t}=n();return await t(`${l}Class/class_colors/`,"GET",null,a())}),C=d("studentsSlice/fetchSchoolStudents",async({userBranchId:t})=>{const{request:e}=n();return await e(`${l}Students/school_students/?branch=${t}`,"GET",null,a())});d("studentsSlice/createSchoolClass",async({res:t})=>{const{request:e}=n();return await e(`${l}Group/groups/create/?${b()}`,"POST",JSON.stringify(t),a())});const h=d("studentsSlice/fetchDeletedNewStudents",async t=>{const{request:e}=n();return await e(`${l}Students/deleted-from-registered/?branch=${t}`,"GET",null,a())}),D={filteredErrors:null,filteredStudents:[],filteredTeachers:[],filteredCurseTypes:[],filteredCurseLevel:[],schoolClassNumbers:[],schoolClassColors:[],schoolStudents:[],newStudentes:[],studyingStudents:[],deletedStudents:[],filteredByClassStudents:[],filteredByClass:"idle",newStudentsStatus:"idle",studyingStudentsStatus:"idle",loading:!1,error:null},w=T({name:"newStudentsSlice",initialState:D,reducers:{getFilteredStudentsStatus:t=>{t.newStudentsStatus="loading"},getFilteredStudentsData:(t,e)=>{t.filteredStudents=e.payload.subjects_with_students,t.filteredTeachers=e.payload.teachers,t.filteredErrors=e.payload.errors,t.newStudentsStatus="success"},getCurseTypes:(t,e)=>{t.filteredCurseTypes=e.payload},getCurseLevel:(t,e)=>{t.filteredCurseLevel=e.payload},stopFilteredStudentsLoading:t=>{t.newStudentsStatus="idle"},onDeleteNewStudents:(t,e)=>{t.newStudentes=t.newStudentes.filter(s=>s.id!==+e.payload)},onDeleteGroupStudentBack:(t,e)=>{t.deletedStudents=t.deletedStudents.filter(s=>s.student.id!==e.payload),console.log(e.payload,typeof e.payload,"log")}},extraReducers:t=>t.addCase(o.pending,e=>{e.newStudentsStatus="loading"}).addCase(o.fulfilled,(e,s)=>{e.newStudentes=s.payload,e.newStudentsStatus="success",e.loading=!1}).addCase(o.rejected,(e,s)=>{e.newStudentsStatus="error"}).addCase(h.pending,e=>{e.newStudentsStatus="loading"}).addCase(h.fulfilled,(e,s)=>{e.newStudentes=s.payload,console.log(s.payload,"efefewfe"),e.newStudentsStatus="success"}).addCase(h.rejected,(e,s)=>{e.newStudentsStatus="error"}).addCase(c.pending,e=>{e.filteredByClass="loading"}).addCase(c.fulfilled,(e,s)=>{e.filteredByClassStudents=s.payload,e.filteredByClass="success"}).addCase(c.rejected,(e,s)=>{e.filteredByClass="error"}).addCase(i.pending,e=>{e.studyingStudentsStatus="loading"}).addCase(i.fulfilled,(e,s)=>{e.studyingStudents=s.payload,e.studyingStudentsStatus="success"}).addCase(i.rejected,(e,s)=>{e.studyingStudentsStatus="error"}).addCase(S.pending,e=>{e.loading="loading",e.error=null}).addCase(S.fulfilled,(e,s)=>{e.deletedStudents=s.payload,e.loading=!1}).addCase(S.rejected,(e,s)=>{e.error=s.error.message,e.loading=!1}).addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,(e,s)=>{e.filteredStudents=s.payload,e.loading=!1,e.error=null}).addCase(f.rejected,(e,s)=>{e.loading=!1,e.error=s.payload??null}).addCase(g.pending,e=>{e.loading=!0,e.error=null}).addCase(g.fulfilled,(e,s)=>{e.schoolClassNumbers=s.payload,e.loading=!1,e.error=null}).addCase(g.rejected,(e,s)=>{e.loading=!1,e.error=s.payload??null}).addCase(y.pending,e=>{e.loading=!0,e.error=null}).addCase(y.fulfilled,(e,s)=>{e.schoolClassColors=s.payload,e.loading=!1,e.error=null}).addCase(y.rejected,(e,s)=>{e.loading=!1,e.error=s.payload??null}).addCase(C.pending,e=>{e.loading=!0,e.error=null}).addCase(C.fulfilled,(e,s)=>{e.schoolStudents=s.payload,e.loading=!1,e.error=null}).addCase(C.rejected,(e,s)=>{e.loading=!1,e.error=s.payload??null})}),G=w.reducer,{getFilteredStudentsData:m,getFilteredStudentsStatus:B,getCurseTypes:E,getCurseLevel:N,stopFilteredStudentsLoading:q,onDeleteNewStudents:_,onDeleteGroupStudentBack:L}=w.actions;export{B as a,y as b,i as c,o as d,S as e,g as f,m as g,h,q as i,N as j,E as k,c as l,_ as m,L as o,G as s};
