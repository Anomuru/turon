import{k as m,j as e,T as b,l as F,n as N,r as i,i as S,u as $,A as k,h as D,f as G,o as A,B as h}from"./index-Cux8sda1.js";import{h as E,i as q}from"./index-Dyh4sQR2.js";import{C as T}from"./confirmModal-DiNALKc8.js";import{o as z}from"./studentsSlice-JQcNq_2O.js";import{o as H}from"./alertSlice-XeBTN8B3.js";import{R as I}from"./radio-c1ywR2KC.js";const _={},ne=({currentTableData:o})=>{const a=m(),c=()=>o?.map((n,l)=>e.jsxs("tr",{onClick:()=>a(`profile/${n?.id}`),children:[e.jsx("td",{children:l+1}),e.jsxs("td",{children:[n?.user?.name," ",n?.user?.surname]}),e.jsx("td",{children:n?.user?.age}),e.jsx("td",{children:n?.user?.phone}),e.jsx("td",{children:n?.group?.name?n.group.name:`${n?.class_number} ${n?.group?.color}`}),e.jsx("td",{children:e.jsx("div",{style:{width:"fit-content",border:n.color?`2px solid #${n.color}`:"2px solid black",color:`${n.color}`,padding:"1.5rem",borderRadius:"10px"},children:n.debt})})]},n.id));return e.jsx("div",{className:_.students,children:e.jsx("div",{className:_.table,children:e.jsxs(b,{extraClass:_.table__head,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Full name"}),e.jsx("th",{children:"Yosh"}),e.jsx("th",{children:"Telefon nomer"}),e.jsx("th",{children:"Guruh nomi"}),e.jsx("th",{children:"Qarzi "})]})}),e.jsx("tbody",{children:c()})]})})})},M="_deletedStudents_9pq9e_1",w="_deletedStudents__menu_9pq9e_11",L="_active_9pq9e_25",r={deletedStudents:M,deletedStudents__menu:w,active:L},se=({currentTableData:o})=>{const a=F(),c=N(E),[n,l]=i.useState("all"),[C,p]=i.useState([]),[f,B]=i.useState([]),d=m(),[j,u]=i.useState(!1),[g,v]=i.useState(!1);i.useEffect(()=>{a(q())},[]);const{request:P}=$(),R=()=>{P(`${k}Students/delete-student-from-deleted/${g}/`,"DELETE",null,D()).then(t=>{a(H({type:"success",status:!0,msg:t.msg}))}),u(!1),a(z(g))},y=()=>o?.map((t,x)=>n==="all"?e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsxs("td",{onClick:()=>d(`profile/${t?.student?.id}`),children:[t?.student?.name," ",t?.student?.surname]}),e.jsx("td",{children:t?.student?.age}),e.jsx("td",{children:t?.student?.phone}),e.jsx("td",{children:t?.group?.name}),e.jsx("td",{children:t?.student?.registered_date}),e.jsx("td",{children:t?.deleted_date}),e.jsx("td",{children:t?.group_reason?.name}),e.jsx("td",{children:e.jsx("div",{onClick:()=>{v(t.student.id),u(!0)},children:e.jsx("i",{className:"fa fa-times"})})})]}):t?.group_reason?.id===n?e.jsxs("tr",{onClick:()=>d(`profile/${t.id}`),children:[e.jsx("td",{children:x+1}),e.jsxs("td",{children:[t?.student?.name," ",t?.student?.surname]}),e.jsx("td",{children:t?.student?.age}),e.jsx("td",{children:t?.student?.phone}),e.jsx("td",{children:t?.group?.name}),e.jsx("td",{children:t?.student?.registered_date}),e.jsx("td",{children:t?.deleted_date}),e.jsx("td",{children:t?.group_reason?.name}),e.jsx("td",{children:e.jsx("div",{onClick:()=>{v(t.student.id),u(!0)},children:e.jsx("i",{className:"fa fa-times"})})})]}):null);return e.jsxs("div",{className:r.deletedStudents,children:[e.jsxs("ul",{className:r.deletedStudents__menu,children:[e.jsx("li",{className:S(r.other__item,{[r.active]:n==="all"}),onClick:()=>{l("all")},children:"Hammasi"},6),c?.map((t,x)=>e.jsx("li",{className:S(r.other__item,{[r.active]:n===t.id}),onClick:()=>{l(t.id)},children:t.name},x))]}),e.jsx("div",{className:r.table,children:e.jsxs(b,{extraClass:r.table__head,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Full name"}),e.jsx("th",{children:"Yosh"}),e.jsx("th",{children:"Telefon nome"}),e.jsx("th",{children:"Guruh"}),e.jsx("th",{children:"Reg.sana"}),e.jsx("th",{children:"O'chir.sana"}),e.jsx("th",{children:"Sabab"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:y()})]})}),e.jsx(T,{onClick:R,title:"Qaytarish",text:"Studentni rostanham qaytarmoqchimisiz",type:"danger",active:j,setActive:u})]})},O="_mainContainer_1xe50_1",Q="_mainContainer_buttonPanelBox_1xe50_4",Y="_mainContainer_buttonPanelBox_leftCreateButton_1xe50_8",U="_mainContainer_filterPanelBox_1xe50_11",J="_mainContainer_filterPanelBox_rightFilterRadioGroupBox_1xe50_15",K="_activeFilter_1xe50_20",s={mainContainer:O,mainContainer_buttonPanelBox:Q,mainContainer_buttonPanelBox_leftCreateButton:Y,mainContainer_filterPanelBox:U,mainContainer_filterPanelBox_rightFilterRadioGroupBox:J,activeFilter:K},ae=({onChange:o,selectedRadio:a,peoples:c,setActive:n,onClick:l})=>{const{theme:C}=G(),p=N(A),f=m(),B=i.useCallback(()=>e.jsx(e.Fragment,{children:e.jsx(h,{type:"filter",extraClass:s.extraCutClass,onClick:()=>l("create"),children:"Create Class"})}),[C]);return e.jsxs("div",{className:s.mainContainer,children:[e.jsx("div",{className:s.mainContainer_buttonPanelBox,children:e.jsxs("div",{className:s.mainContainer_buttonPanelBox_leftCreateButton,children:[B(),e.jsx(h,{onClick:()=>l("add"),type:"filter",extraClass:s.noneBackground,children:"Add class"}),e.jsx(h,{onClick:()=>f("RGBData"),type:"filter",children:"RB-Baza"})]})}),e.jsxs("div",{className:s.mainContainer_filterPanelBox,children:[e.jsx(h,{status:"filter",extraClass:s.extraCutClassFilter,onClick:()=>n("filter"),type:"filter",children:"Filter"}),e.jsx("a",{style:{color:"white"},href:`${k}Students/export-students/?branch=${p.id}&format=json`,children:e.jsx(h,{type:"simple",children:"Exel"})}),e.jsx("div",{className:s.mainContainer_filterPanelBox_rightFilterRadioGroupBox,children:c.map((d,j)=>e.jsx(I,{onChange:()=>o(d.name),checked:a===d.name,extraClasses:a===d.name?s.activeFilter:null,children:d.label},j))})]})]})};export{se as D,ne as S,ae as a};
