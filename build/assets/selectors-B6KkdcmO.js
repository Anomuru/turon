import{r as c,n as j,u as b,Q as C,j as r,z as A,B as y,F as D,I as h,h as p,A as m,i as S,U as v,aa as F,ab as M}from"./index-D6a-L2Nf.js";const O="_dayModal_e0c26_1",w="_btns_e0c26_11",u={dayModal:O,btns:w},L=c.memo(({setEditMode:e,editMode:a,teacherData:s})=>{const{register:n,handleSubmit:g,setValue:o}=j(),[$,q]=c.useState(""),T=b(),{id:_}=C(),[l,i]=c.useState(!1),{request:f}=p(),k=d=>{const x={salary_type:l,worked_hours:d.day,class_salary:d.class_salary};f(`${m}Teachers/teachers/salary/update_patch/${s.id}/`,"PATCH",JSON.stringify(x),S()).then(H=>{T(v(_))}),e(!1)};return c.useEffect(()=>{s&&(l?o("day",s.worked_hours):o("class_salary",s.class_salary))},[s,l]),r.jsx("div",{children:r.jsxs(A,{extraClass:u.dayModal,active:a,setActive:e,children:[r.jsx("h1",{children:"O'qituvchining 1 oylik dars soatlari"}),r.jsxs("div",{className:u.btns,children:[r.jsx(y,{onClick:()=>i(!0),type:l?"success":"simple",children:"Formula"}),r.jsx(y,{onClick:()=>i(!1),type:l?"simple":"success",children:"Formulasiz"})]}),r.jsx(D,{onSubmit:g(k),children:l?r.jsx(h,{title:"Kelmagan kunlar",placeholder:"Kelmagan kun",type:"number",register:n,name:"day"}):r.jsx(h,{title:"Oylik",placeholder:"Oylik kiriting",type:"number",register:n,name:"class_salary"})})]})})}),t=F("schoolTeacherDaySlice/schoolTeacherDayThunk",async({id:e,data:a})=>{const{request:s}=p();return await s(`${m}Teachers/teachers/salary/update_patch/${e}/`,"PATCH",JSON.stringify(a),S())}),P={workedDay:[],loading:!1,error:null};M({name:"schoolTeacherDaySlice",initialState:P,reducers:{},extraReducers:e=>{e.addCase(t.pending,a=>{a.loading=!0,a.error=null}).addCase(t.fulfilled,(a,s)=>{a.loading=!1,a.error=null,a.workedDay=s.payload}).addCase(t.rejected,(a,s)=>{a.loading=!1,a.error=s.error.message})}});const N=e=>e.teacherSalarySlice?.salaryData,R=e=>e.teacherSalarySlice?.salaryDatas,z=e=>e.teacherSalarySlice?.loading;export{L as S,N as a,R as b,z as g};
