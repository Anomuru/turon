import{r as l,l as f,k,j as e,s as d,I as r,B as v,M as N,u as w,A as S,t as y}from"./index-Cux8sda1.js";import{z as V,y as $,w as K,x as Q,v as W,C as X,E as Y}from"./index-Cux8sda1.js";import{u as C}from"./index.esm-DQmSsb0O.js";const U="_container_akjll_1",L="_login_akjll_8",R="_login__logo_akjll_15",q="_login__boxes_akjll_22",I="_login__box_akjll_22",E="_box__header_img_akjll_39",P="_box__header_title_akjll_42",A="_box__form_akjll_51",D="_login__btn_akjll_63",F="_login__error_akjll_69",B="_login__aside_akjll_74",s={container:U,login:L,login__logo:R,login__boxes:q,login__box:I,box__header_img:E,box__header_title:P,box__form:A,login__btn:D,login__error:F,login__aside:B},J="/assets/login-page-4468581-3783954%201-gPkG-buJ.svg",G=()=>{const{request:x}=w(),{register:a,handleSubmit:m,setValue:_}=C(),[M,i]=l.useState([]),[t,n]=l.useState(!0),[g,u]=l.useState(!1),h=f(),j=k(),b=o=>{const p={username:o.username,password:o.password};n(!t),x(`${S}token/`,"POST",JSON.stringify(p)).then(c=>{h(y(c)),j("/platform"),n(!1)}).catch(c=>{n(!0),u(!0),_("username",""),_("password","")})};return e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.login__logo,children:e.jsx("img",{src:d,alt:""})}),e.jsx("div",{className:s.login,children:e.jsxs("div",{className:s.login__boxes,children:[e.jsxs("div",{className:s.login__box,children:[e.jsx("div",{className:s.box__header_img,children:e.jsx("img",{src:d,alt:""})}),e.jsx("h1",{className:s.box__header_title,children:"login"}),g&&g?e.jsx("div",{className:s.login__error,children:"Username yoki Parol noto'g'ri !"}):null,e.jsx("div",{className:s.box__form,children:e.jsxs("form",{onSubmit:m(b),children:[t?e.jsxs(e.Fragment,{children:[e.jsx(r,{onChange:o=>i(o.target.value),title:"username",register:a,name:"username",type:"text",required:!0}),e.jsx(r,{title:"password",register:a,name:"password",type:"password",required:!0})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{disabled:!0,onChange:o=>i(o.target.value),title:"username",register:a,name:"username",type:"text",required:!0}),e.jsx(r,{title:"password",register:a,name:"password",type:"password",required:!0,disabled:!0})]}),t?e.jsx(v,{extraClass:s.login__btn,children:"Login"}):e.jsx(N,{})]})})]}),e.jsx("div",{className:s.login__aside,children:e.jsx("img",{src:J,alt:""})})]})})]})};export{G as default,y as getUserData,V as getUserId,$ as getUserRefreshLoading,K as getUserRole,Q as getUsername,W as loginSlice,X as userRefresh,Y as userRefreshData};
