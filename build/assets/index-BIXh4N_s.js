import{j as e,B as C,I as f,p as U,r as i,n as _,l as A,D as J,i as D,u as I,A as T,h as $,k as z,O as G}from"./index-Cux8sda1.js";import{M as k}from"./modal-BR27MEf1.js";import{F as M}from"./form-C3mZZqBW.js";import{C as P}from"./confirmModal-DiNALKc8.js";import{g as K,a as q,c as Q,o as W,b as V,d as X,e as Y,p as Z,f as ee,h as se,i as te,j as ae,k as ne,l as oe}from"./educationSlice-Dccsl4fS.js";import{m as Qe,n as We,s as Xe}from"./educationSlice-Dccsl4fS.js";import{g as ce,a as ie}from"./branchSelector-u3o7YCHK.js";import{u as w}from"./index.esm-DQmSsb0O.js";import{g as R,B as le,E as re,a as de,L as me}from"./index-DZSoraZZ.js";import{o as H}from"./alertSlice-XeBTN8B3.js";import{g as ue,a as xe}from"./systemSelector-CUSI55rJ.js";import"./cross-BXlnQeE0.js";const he="_location_1te3g_1",ge="_location__wrapper_1te3g_4",je="_locationsBox_1te3g_9",pe="_locationHeader_1te3g_15",fe="_location__info_1te3g_25",_e="_btn_1te3g_34",ve="_plus_1te3g_42",ye="_formMain_1te3g_63",Ne="_formBox_1te3g_70",Se="_formTitle_1te3g_80",Ce="_form_1te3g_63",t={location:he,location__wrapper:ge,locationsBox:je,locationHeader:pe,location__info:fe,btn:_e,plus:ve,formMain:ye,formBox:Ne,formTitle:Se,form:Ce},be=({activeModal:a,setActive:l,register:n,handleSubmit:o,onChange:m,onDelete:r,setSelect:c,options:d,activeDel:u,setActiveDel:x})=>e.jsxs("div",{children:[e.jsxs(k,{setActive:l,active:a,children:[e.jsx(C,{onClick:()=>x(!u),extraClass:t.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(M,{onSubmit:o(m),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(f,{name:"name",register:n,title:"Name"}),e.jsx(f,{title:"Number",register:n,type:"number",name:"number"}),e.jsx(U,{options:d,onChangeOption:c})]})})]}),e.jsx(P,{setActive:x,active:u,onClick:r,type:"danger"})]}),Le=({activeModal:a,setActive:l,register:n,handleSubmit:o,onChange:m,onDelete:r,setActiveDel:c,activeDel:d})=>e.jsxs("div",{children:[e.jsxs(k,{setActive:l,active:a,children:[e.jsx(C,{onClick:()=>c(!d),extraClass:t.btn,type:"editPlus",children:e.jsx("i",{className:"fa fa-trash"})}),e.jsx(M,{onSubmit:o(m),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(f,{name:"name",register:n,title:"Name"}),e.jsx(f,{name:"number",type:"Number",register:n,title:"System_id"})]})})]}),e.jsx(P,{setActive:c,active:d,onClick:r,type:"danger"})]}),Ee=({activeModal:a,setActive:l,register:n,handleSubmit:o,onChange:m,onDelete:r,options:c,select:d,setSelected:u,setActiveDel:x,activeDel:j})=>e.jsxs("div",{children:[e.jsxs(k,{setActive:l,active:a,children:[e.jsx(C,{onClick:()=>x(!j),extraClass:t.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(M,{onSubmit:o(m),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"3rem 2rem"},children:[e.jsx(f,{register:n,name:"name",title:"Name"}),e.jsx(f,{title:"Number",register:n,name:"number",type:"number"}),e.jsx(f,{title:"Location",register:n,name:"location_text"})]})})]}),e.jsx(P,{setActive:x,active:j,onClick:r,type:"danger"})]}),Be=({activeModal:a,setActive:l,register:n,handleSubmit:o,onChange:m,onDelete:r,setActiveDel:c,activeDel:d})=>e.jsxs("div",{children:[e.jsxs(k,{setActive:l,active:a,children:[e.jsx(C,{onClick:()=>c(!d),extraClass:t.btn,type:"editPlus",children:e.jsx(e.Fragment,{children:e.jsx("i",{className:"fa fa-trash"})})}),e.jsx(M,{onSubmit:o(m),children:e.jsx("div",{style:{display:"flex",flexDirection:"column",padding:"3rem 2rem"},children:e.jsx(f,{title:"Name",register:n,name:"name"})})})]}),e.jsx(P,{setActive:c,active:d,onClick:r,type:"danger"})]}),ke=a=>a.locationSlice?.system,Ve=()=>{const[a,l]=i.useState(!1),{register:n,setValue:o,handleSubmit:m}=w(),r=_(ce),c=A(),[d,u]=i.useState(null),x=_(R),[j,p]=i.useState(!1),[v,y]=i.useState([]),[N,S]=i.useState(!1),{request:L}=I(),b=_(ie);i.useEffect(()=>{c(K())},[]),i.useEffect(()=>{c(q())},[]);const h=()=>{p(!j)},E=s=>{c(Q({location_text:v,data:s,id:d.id})),l(!a),o("name",""),o("number","")},g=()=>r&&[...r].sort(B).map(s=>e.jsxs("div",{className:t.locationsBox,children:[e.jsxs("div",{className:t.locationHeader,children:[e.jsx("h2",{children:s?.name}),e.jsx(C,{onClick:()=>{l(!a),u(s),o("name",s.name),o("number",s.number),o("location_text",s.location_text)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsxs("div",{className:t.location__info,children:[e.jsx("h2",{children:s?.number}),e.jsx("span",{children:s.location_text})]})]}));function B(s,F){return s.id-F.id}const O=()=>{L(`${T}Branch/branch_delete/${d.id}/`,"DELETE",JSON.stringify({id:d.id}),$()).then(s=>{console.log(s),l(!a),c(W({id:d.id})),S(!1),c(H({status:!0,type:"success",msg:s.msg}))}).catch(s=>{console.log(s)})};return b?e.jsx(J,{}):e.jsxs("div",{children:[e.jsxs("div",{className:t.location,children:[e.jsx("div",{className:t.location__wrapper,children:g()}),e.jsx("i",{onClick:h,className:D("fa fa-plus",t.plus)}),e.jsx(Ee,{activeDel:N,setActiveDel:S,onDelete:O,select:v,setSelected:y,options:x,activeModal:a,setActive:l,register:n,onChange:E,handleSubmit:m})]}),e.jsx(le,{loading:b,setActive:p,active:j})]})},Re=()=>{const{register:a,handleSubmit:l,setValue:n}=w(),[o,m]=i.useState(!1),[r,c]=i.useState(null),d=_(ue),u=A();z();const[x,j]=i.useState(!1),p=_(xe),{request:v}=I(),[y,N]=i.useState(!1);i.useEffect(()=>{u(V())},[u]);const S=g=>{u(Y({data:g,id:r.id})),m(!o),n("name",""),n("number","")},L=g=>{u(Z(g)),u(V()),n("name",""),n("number",""),j(!x)},b=()=>{v(`${T}System/systems/delete/${r.id}/`,"DELETE",JSON.stringify({id:r.id}),$()).then(g=>{m(!o),N(!y),u(H({type:"success",msg:g.msg,status:!0})),u(X({id:r.id}))}).catch(g=>{console.log(g)})},h=()=>d&&[...d].sort(E).map(g=>e.jsxs("div",{className:t.locationsBox,children:[e.jsxs("div",{className:t.locationHeader,children:[e.jsx("h2",{children:g?.name}),e.jsx(C,{onClick:()=>{m(!o),c(g)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsx("div",{className:t.location__info,children:e.jsx("span",{children:g?.number})})]},g.id));function E(g,B){return g.id-B.id}return p?e.jsx(G,{}):e.jsxs("div",{children:[e.jsxs("div",{className:t.location,children:[e.jsx("div",{className:t.location__wrapper,children:h()}),e.jsx("i",{onClick:()=>j(!x),className:D("fa fa-plus",t.plus)}),e.jsx(Le,{register:a,handleSubmit:l,onChange:S,activeModal:o,setActive:m,onDelete:b,activeDel:y,setActiveDel:N})]}),e.jsx(k,{active:x,setActive:j,children:e.jsx("div",{className:t.formMain,children:e.jsxs("div",{className:t.formBox,children:[e.jsx("h1",{className:t.formTitle,children:"System"}),e.jsxs(M,{onSubmit:l(L),extraClassname:t.form,typeSubmit:"",children:[e.jsx(f,{register:a,name:"name",title:"System"}),e.jsx(f,{type:"number",register:a,name:"number",title:"Number"}),e.jsx(C,{children:"create"})]})]})})})]})},Me=a=>a.getEducation?.educationName,Ae=a=>a.getEducation?.loading,Ue=()=>{const{register:a,handleSubmit:l,setValue:n}=w(),[o,m]=i.useState(!1),r=A(),c=_(Ae),d=_(Me),[u,x]=i.useState([]),[j,p]=i.useState(!1),[v,y]=i.useState(!1),{request:N}=I();i.useEffect(()=>{r(ee())},[]);const S=h=>{r(se({data:h,id:u.id})),m(!o)},L=()=>{N(`${T}Language/language/${u.id}/`,"DELETE",JSON.stringify({id:u.id}),$()).then(h=>{r(te({id:u.id})),m(!o),p(!1),y(!v),r(H({msg:h.msg,type:"success",status:!0}))}).catch(h=>{console.log(h)})};function b(h,E){return h.id-E.id}return c?e.jsx(J,{}):e.jsxs("div",{className:t.location,children:[e.jsx("div",{className:t.location__wrapper,children:d&&[...d].sort(b).map(h=>e.jsx("div",{style:{width:"fit-content"},className:t.locationsBox,children:e.jsxs("div",{className:t.locationHeader,children:[e.jsx("h2",{children:h?.name}),e.jsx(C,{onClick:()=>{m(!o),x(h),n("name",h.name)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]})}))}),e.jsx("i",{onClick:()=>p(!j),className:D("fa fa-plus",t.plus)}),e.jsx(Be,{onDelete:L,register:a,handleSubmit:l,onChange:S,activeModal:o,setActive:m,setActiveDel:y,activeDel:v}),e.jsx(re,{active:j,setActive:p})]})},ze=()=>{const[a,l]=i.useState(!1),[n,o]=i.useState([]),{register:m,handleSubmit:r,setValue:c}=w(),d=_(R),u=_(de),x=A(),[j,p]=i.useState(!1),[v,y]=i.useState([]),[N,S]=i.useState(!1),L=_(ke),{request:b}=I();i.useEffect(()=>{x(ae()),x(q())},[]);const h=s=>{x(ne({system:v,data:s,id:n.id})),c("name",""),c("number",""),x(q()),l(!a)},E=()=>{b(`${T}Location/location_delete/${n.id}/`,"DELETE",JSON.stringify({id:n.id}),$()).then(s=>{l(!a),x(oe({id:n.id})),S(!N),x(H({status:!0,type:"success",msg:s.msg}))}).catch(s=>{console.log(s)})},B=d&&[...d].sort(O).map(s=>e.jsxs("div",{className:t.locationsBox,children:[e.jsxs("div",{className:t.locationHeader,children:[e.jsx("h2",{children:s.name}),e.jsx(C,{onClick:()=>{l(!a),o(s),c("name",s.name),c("number",s.number)},type:"editPlus",children:e.jsx("i",{className:"fa fa-pen"})})]}),e.jsxs("div",{className:t.location__info,children:[e.jsx("h2",{children:s.number}),e.jsx("span",{children:s.old_id})]})]}));function O(s,F){return s.id-F.id}return u?e.jsx(J,{}):e.jsxs("div",{className:t.location,children:[e.jsx("div",{className:t.location__wrapper,children:B}),e.jsx("i",{onClick:()=>p(!j),className:D("fa fa-plus",t.plus)}),e.jsx(be,{options:L,onDelete:E,setSelect:y,onChange:h,handleSubmit:r,register:m,activeModal:a,setActive:l,setActiveDel:S,activeDel:N}),e.jsx(me,{loading:u,setActive:p,active:j})]})};export{Ve as Branch,Ue as Education,ze as Location,Ee as ModalBranch,Be as ModalEducation,be as ModalLocation,Le as ModalSystem,Re as System,Qe as getBranchSlice,K as getBranchThunk,We as getEducation,xe as getLoading,R as getLocation,ce as getLocations,ue as getSystemName,Xe as systemSlice};
