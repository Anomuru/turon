import{j as e,M as S,aJ as N,I as g,B as f,r as m,u as q,a2 as A,i as T,A as v,k as _,o as E,bZ as P,b_ as k,a as M,g as $,b$ as O,c0 as D}from"./index-B1KXs2zi.js";const B="_categoryPlus_otsbf_1",I="_categoryModal_otsbf_17",H="_box_Main_otsbf_21",J="_box_otsbf_21",d={categoryPlus:B,categoryModal:I,box_Main:H,box:J},L=({activeCategory:a,setActiveCategory:t})=>e.jsx("div",{className:d.categoryPlus,onClick:()=>t(!a),children:e.jsx("i",{className:"fa fa-plus"})}),F=({register:a,handleSubmit:t,onClick:r,activeCategory:o,setActiveCategory:c})=>e.jsx("div",{children:e.jsx(S,{active:o,setActive:c,children:e.jsxs("div",{className:d.categoryModal,children:[e.jsx("h2",{children:"Ma’lumot qo’shish"}),e.jsxs(N,{typeSubmit:"",onSubmit:t(r),children:[e.jsx(g,{register:a,name:"name",required:!0}),e.jsx(g,{register:a,name:"salary",type:"number",required:!0}),e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(f,{type:"simple",children:"Qo'shish"})})]})]})})}),R=({register:a,handleSubmit:t,onClick:r,activeCategory:o,setActiveCategory:c,deleteBtn:n})=>e.jsx("div",{children:e.jsx(S,{active:o,setActive:c,children:e.jsxs("div",{className:d.categoryModal,children:[e.jsx("h2",{children:"Ma’lumot qo’shish"}),e.jsxs(N,{typeSubmit:"",children:[e.jsx(g,{register:a,name:"name",required:!0}),e.jsx(g,{register:a,name:"salary",type:"number",required:!0}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(f,{onClick:t(n),type:"danger",children:["O'chirish ",e.jsx("i",{className:"fa fa-trash"})]}),e.jsx(f,{onClick:t(r),type:"simple",children:"Tastiqlash"})]})]})]})})}),V=({salaryTypes:a,setEdit:t,edit:r})=>{const[o,c]=m.useState(!1),n=q(),{request:h}=T(),{register:p,handleSubmit:u,setValue:i}=A(),x=s=>{const l=r.id,C={id:l,...s};h(`${v}Teachers/salary-types/${l}/`,"PATCH",JSON.stringify(C),_()).then(y=>{n(E({status:!0,type:"success",msg:y.msg})),n(P(y)),c(!o),i("name",""),i("salary","")}).catch(y=>{console.log(y)})},j=()=>{const s=r.id;h(`${v}Teachers/salary-types/${s}/`,"DELETE",null,_()).then(l=>{console.log(l),n(k({id:s})),n(E({status:!0,type:"success",msg:l.msg})),c(!o),i("name",""),i("salary","")}).catch(l=>{console.log(l)})};return e.jsxs("div",{className:d.box_Main,children:[a?.map(s=>e.jsxs("div",{className:d.box,onClick:()=>{t({id:s.id,name:s.name}),c(!o),i("name",s.name),i("salary",s.salary)},children:[e.jsxs("p",{children:["Nomi : ",s.name]}),e.jsxs("span",{children:["Oyligi : ",s.salary]})]})),e.jsx(R,{deleteBtn:j,onClick:x,activeCategory:o,setActiveCategory:c,register:p,handleSubmit:u})]})},w=a=>a.employerCategorySlice.employerCategoryData,U=({extraClass:a})=>{const[t,r]=m.useState(!1),{register:o,handleSubmit:c,setValue:n}=A(),h=M($),p=M(w),u=q(),[i,x]=m.useState({}),{request:j}=T(),s=h.id;m.useEffect(()=>{u(O(s))},[]);const l=C=>{const y={...C,branch:s};j(`${v}Teachers/salary-types/?branch=${s}`,"POST",JSON.stringify(y),_()).then(b=>{r(!t),u(D(b)),n("name",""),n("salary","")}).catch(b=>{console.log(b)})};return e.jsxs("div",{className:a,children:[e.jsx(L,{activeCategory:t,setActiveCategory:r}),e.jsx(V,{setEdit:x,salaryTypes:p,edit:i}),e.jsx(F,{onClick:l,register:o,handleSubmit:c,activeCategory:t,setActiveCategory:r})]})};export{U as E};
