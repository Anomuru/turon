import{j as s,n as p,z as B,F as H,I as A,B as u,r,u as k,h as P,A as V,i as E,o as R,a as N,g as q,D as z}from"./index-DJEj1NQv.js";import{c as m,a as L,b as O,o as U,u as Z,d as G,e as J,g as K,f as Q,h as W,i as X,C as Y,j as ss}from"./index-YPEHtWnQ.js";import{Z as es}from"./index-BHqgiX3-.js";import"./seq-D4fLl93z.js";import"./confirmModal-DZpNvp7H.js";const as="_header_1pgs1_1",ns="_header__btn_1pgs1_9",y={header:as,header__btn:ns},ts="data:image/svg+xml,%3csvg%20width='30'%20height='29'%20viewBox='0%200%2030%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.694824'%20width='28.5714'%20height='28.5714'%20rx='14.2857'%20fill='%23F9FAFB'/%3e%3cpath%20d='M9.98053%2011.1602V9.28516H19.9805V11.1602M13.1055%2019.2852H16.8555M14.9805%209.28516V19.2852'%20stroke='%2306B6D4'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cs="_switchHandler_1n7db_1",is="_mainSwitch_1n7db_8",ls="_mainSwitch__iconHandler_1n7db_18",rs="_mainSwitch__iconHandler__center_1n7db_30",os="_mainSwitch__icon_1n7db_18",ds="_changeColorBox_1n7db_51",hs="_mainSwitch__text__center_1n7db_64",_s="_activeBg_1n7db_79",ms="_passiveBg_1n7db_84",i={switchHandler:cs,mainSwitch:is,mainSwitch__iconHandler:ls,mainSwitch__iconHandler__center:rs,mainSwitch__icon:os,changeColorBox:ds,mainSwitch__text__center:hs,activeBg:_s,passiveBg:ms},xs=({isActive:e,onSwitch:t})=>{const n=()=>{t(!e)};return s.jsx("div",{className:i.switchHandler,children:s.jsx("div",{className:i.switchHandler,children:s.jsxs("button",{className:`${i.mainSwitch} ${e?`${i.activeBg}`:`${i.passiveBg}`} `,onClick:()=>{n(),t(!e)},children:[e?s.jsx("div",{children:s.jsx("span",{className:i.mainSwitch__iconHandler,children:s.jsx("div",{className:i.mainSwitch__icon,children:s.jsx("div",{className:i.changeColorBox})})})}):s.jsx("div",{children:s.jsx("span",{className:i.mainSwitch__iconHandler__center,children:s.jsx("img",{className:i.mainSwitch__icon,src:ts,alt:""})})}),e?s.jsx("h3",{className:i.mainSwitch__type,children:"Types"}):s.jsx("h3",{className:i.mainSwitch__text__center,children:" Color"})]})})})},js=({createColor:e,setCreateColor:t,addColor:n,color:c,setColor:a})=>{const{register:l,handleSubmit:o}=p();return s.jsxs(B,{active:e,setActive:t,children:[s.jsx("h2",{children:"Rang qo'shish"}),s.jsx("div",{children:s.jsxs(H,{extraClassname:m.extraClassForm,onSubmit:o(n),children:[s.jsx(A,{name:"name",register:l}),s.jsxs("div",{className:m.changeColorItem,children:[s.jsxs("div",{className:m.color,children:[s.jsx("h2",{children:"Tanlangan rang : "}),s.jsx("div",{style:{fontSize:"2rem"},children:c})]}),s.jsx(es,{style:{width:"30rem",height:"15rem"},color:c,onChange:a})]})]})})]})},us=({setAddClass:e,addClass:t,createClass:n})=>{const{register:c,handleSubmit:a,setValue:l}=p();return s.jsxs(B,{active:t,setActive:e,children:[s.jsx("h2",{children:"Sinf turi yaratish "}),s.jsx("div",{children:s.jsx(H,{extraClassname:m.extraClassForm,onSubmit:a(n),children:s.jsx(A,{placeholder:"sinf nomi",name:"name",register:c})})})]})},Cs=({activeEdit:e,setActiveEdit:t,onClick:n,edit:c,onDelete:a})=>{const{register:l,handleSubmit:o,setValue:C}=p();return s.jsxs(B,{active:e,setActive:t,children:[s.jsxs("div",{className:m.modalHeader,children:[" ",c?.name," ",s.jsx("span",{children:"ni o'zgartirish"})]}),s.jsx("div",{children:s.jsxs(H,{typeSubmit:"",extraClassname:m.extraClassForm,children:[s.jsx(A,{name:"name",register:l}),s.jsxs("div",{className:m.modalBtn,children:[s.jsx(u,{onClick:o(n),children:"Tastiqlash"}),s.jsxs(u,{onClick:o(a),type:"danger",children:["O'chirish",s.jsx("i",{className:"fa fa-trash"})]})]})]})})]})},gs=({setActiveSwitch:e,activeSwitch:t,setActiveEdit:n,activeEdit:c,edit:a,setEdit:l,activeMenu:o,setActiveMenu:C})=>{const[x,j]=r.useState("#ffffff"),{request:g}=P(),h=k(),[S,v]=r.useState(!1),[M,I]=r.useState(!1),[w,f]=r.useState(!1),{register:vs,handleSubmit:ws,setValue:b}=p(),F=d=>{const{id:_}=a;n(!c),h(Z({id:_,data:d}))},$=d=>{h(O(d)),v(!S)},D=()=>{const d=a.id;g(`${V}Class/class_types/${d}`,"DELETE",null,E()).then(_=>{h(U({id:d})),h(R({type:"success",status:!0,msg:_.msg})),n(!c)}).catch(_=>{console.log(_)})},T=d=>{const _={value:x,...d};f(!w),h(L(_))};return s.jsxs("div",{className:y.header,children:[s.jsxs("div",{className:y.header__btn,children:[s.jsx("div",{onClick:()=>I(!M),className:y.header__changeColor,children:s.jsx(xs,{onSwitch:()=>e(!t),isActive:t})}),t?s.jsxs("div",{style:{display:"flex"},children:[s.jsx(u,{onClick:()=>{v(!S),l(!a),b("name","sardor")},type:"editPlus",children:s.jsx("i",{className:"fa fa-plus"})}),s.jsxs(u,{onClick:()=>{n(!c),b("name",a.name)},type:"editPlus",children:[" ",s.jsx("i",{className:"fa fa-pen"})]})]}):s.jsx("div",{style:{display:"flex"},children:s.jsx(u,{onClick:()=>{f(!w),b("name",a.name)},type:"editPlus",children:s.jsx("i",{className:"fa fa-plus"})})})]}),s.jsx(js,{color:x,setColor:j,createColor:w,setCreateColor:f,addColor:T}),s.jsx(us,{createClass:$,addClass:S,setAddClass:v}),s.jsx(Cs,{edit:a,onClick:F,activeEdit:c,setActiveEdit:n,onDelete:D})]})},ps={class:"_class_bh908_1"},Ss={classSlice:X},Hs=()=>{const e=N(G),t=N(J),[n,c]=r.useState(e),[a,l]=r.useState({}),[o,C]=r.useState(!1),x=N(q),j=k();r.useEffect(()=>{x&&(j(K(x)),j(Q()),j(W()))},[x]);const[g,h]=r.useState(!0);return s.jsx(z,{reducers:Ss,children:s.jsxs("div",{className:ps.class,children:[s.jsx(gs,{activeMenu:n,activeEdit:o,setActiveEdit:C,edit:a,setEdit:l,activeSwitch:g,setActiveSwitch:h}),g?s.jsx(Y,{setActiveEdit:C,classes:e??[],setActiveMenu:c,activeMenu:n,activeEdit:o,edit:a,setEdit:l}):s.jsx(ss,{color:t,edit:a,setEdit:l})]})})};export{Hs as ClassMain};
