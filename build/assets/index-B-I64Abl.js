import{a as x,j as a,w as b,D as g,bA as p,r as s,a2 as B,u as P,aY as f,bB as E,M as v,aJ as k,I as A,i as N,A as w,k as D,bC as I}from"./index-B1KXs2zi.js";const L=t=>t.employerSalarySlice?.salaryData,$=t=>t.employerSalarySlice?.loading,T="_theadBody_ztda7_1",F={theadBody:T},M=({currentTableData:t,setActiveEdit:l,setActive:n})=>{const c=x($),d=()=>t?.map((e,o)=>a.jsx("tr",{children:c?a.jsx(g,{}):a.jsxs(a.Fragment,{children:[a.jsx("td",{children:o+1}),a.jsx(p,{to:`giveSalaryPage/${e.id}/${e.permission}`,children:a.jsx("td",{children:e.total_salary})}),a.jsx("td",{children:e.taken_salary}),a.jsx("td",{children:e.remaining_salary}),a.jsx("td",{children:e.date}),a.jsx("td",{children:a.jsx("i",{onClick:()=>{n(!0),l(e)},className:"fa fa-pen"})})]})},o+1));return a.jsxs(b,{children:[a.jsx("thead",{className:F.theadBody,children:a.jsxs("tr",{children:[a.jsx("th",{children:"â„–"}),a.jsx("th",{children:"Umumiy oylik"}),a.jsx("th",{children:"Olingan oylik"}),a.jsx("th",{children:"Qolgan oylik"}),a.jsx("th",{children:"Sana"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:d()})]})},U="_mainContainer_b5ajw_1",z="_mainContainer_buttonPanelBox_b5ajw_8",H="_mainContainer_buttonPanelBox_leftCreateButton_b5ajw_15",J="_mainContainer_tablePanelBox_b5ajw_50",O="_changeSalary_b5ajw_65",r={mainContainer:U,mainContainer_buttonPanelBox:z,mainContainer_buttonPanelBox_leftCreateButton:H,mainContainer_tablePanelBox:J,changeSalary:O},Q=()=>{const[t,l]=s.useState(!1),[n,c]=s.useState(!1),{setValue:d,register:e,handleSubmit:o}=B();let u=s.useMemo(()=>20,[]);const[_,R]=s.useState(1),h=P(),y=x(L),{id:m}=f(),{request:j}=N();s.useEffect(()=>{d("total_salary",n.total_salary)},[t,n]),s.useEffect(()=>{m&&h(E(m))},[h,m]);const S=C=>{j(`${w}Users/salaries/update1/${n.id}`,"PATCH",JSON.stringify(C),D()).then(i=>{console.log(i),l(!1),h(I({id:n.id,data:i}))}).catch(i=>{console.log(i)})};return a.jsxs("div",{className:r.mainContainer,children:[a.jsx("div",{className:r.mainContainer_buttonPanelBox,children:a.jsx("div",{className:r.mainContainer_buttonPanelBox_leftCreateButton})}),a.jsx("div",{className:r.mainContainer_tablePanelBox,children:a.jsx(M,{setActive:l,setActiveEdit:c,currentTableData:y,currentPage:_,PageSize:u})}),a.jsxs(v,{setActive:l,active:t,children:[a.jsx("h2",{children:"Change Salary"}),a.jsx(k,{extraClassname:r.changeSalary,onSubmit:o(S),children:a.jsx(A,{placeholder:"Summa",type:"number",register:e,name:"total_salary"})})]})]})};export{Q as EmployerSalaryPage};
