import{a as p,u as g,A as R,h as x,c as j,R as y,r as c,l as I,j as s,I as N}from"./index-Cux8sda1.js";import{I as o}from"./room_image-CsXp1EfD.js";import{S as T}from"./switch-sjHY-EbU.js";import{M as D}from"./modal-BR27MEf1.js";import{c as l}from"./filters.module-C8GjSCwu.js";const d=p("roomsSlice/fetchRoomsData",async({id:t})=>{const{request:e}=g();return await e(`${R}Rooms/rooms/?branch=${t}&deleted=False`,"GET",null,x())}),$={roomsData:[],roomsStatus:"idle",error:null,loading:!1},v=j({name:"roomsSlice",initialState:$,reducers:{onAddRooms:(t,e)=>{console.log(e.payload),t.roomsData=[...t.roomsData,e.payload]}},extraReducers:t=>t.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.loading=!1,e.roomsData=a.payload,console.log(a.payload),e.roomsStatus="success"}).addCase(d.rejected,e=>{e.error="error"})}),{onAddRooms:H}=v.actions,L=v.reducer,A=[{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"},{icon:o,sitterNumber:"13",roomNumber:"12"}],i=p("filterRooms/fetchFilteredRooms",async({teacherId:t,seatFromId:e,seatUntilId:a,boardCond:u})=>{const{request:n}=g();return await n(`${R}Rooms/rooms/?seats_number=${e}-${a}&deleted=False&electronic_board=${u}`,"GET",null,x())}),P=y.memo(({active:t,setActive:e,activeSwitch:a,setActiveSwitch:u})=>{const[n,h]=c.useState(),[S,b]=c.useState(),[E,O]=c.useState(),[f,_]=c.useState(!0),m=I(),w=()=>{const r=!f;_(r),m(i({boardCond:r?"True":"False"}))},C=r=>{h(r.target.value),m(i({seatFromId:r.target.value,seatUntilId:S}))},F=r=>{b(r.target.value),m(i({seatFromId:n,seatUntilId:r.target.value}))};return s.jsx(D,{active:t,setActive:e,children:s.jsxs("div",{className:l.filter,children:[s.jsx("h1",{children:"Filter"}),s.jsxs("div",{className:l.filter__container,children:[s.jsxs("div",{className:l.filter__age,children:[s.jsx(N,{type:"number",extraClassName:l.filter__input,placeholder:"O’rindiqlar soni (От)",onChange:r=>h(r.target.value),defaultValue:n,onBlur:C}),s.jsx(N,{type:"number",extraClassName:l.filter__input,placeholder:"O’rindiqlar soni (До)",onChange:r=>b(r.target.value),defaultValue:S,onBlur:F})]}),s.jsxs("div",{className:l.filter__switch,children:[s.jsx("p",{children:"Doska"}),s.jsx(T,{onChangeSwitch:w,activeSwitch:f})]})]})]})})}),q={rooms:null,loading:!1,error:null},B=j({name:"filterRooms",initialState:q,reducers:{},extraReducers:t=>t.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.rooms=a.payload,console.log(A,"hello"),e.loading=!1,e.error=null}).addCase(i.rejected,(e,a)=>{e.loading=!1,e.error=a.payload??null})}),z=B.reducer;export{P as R,z as a,A as b,d as f,H as o,L as r};
