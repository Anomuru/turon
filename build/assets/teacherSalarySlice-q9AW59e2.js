import{a as t,u as c,A as o,h as n,r as d,l as w,m as q,j as r,B as m,I as k,c as C}from"./index-Cux8sda1.js";import{M as A}from"./modal-BR27MEf1.js";import{F as M}from"./form-C3mZZqBW.js";import{u as F}from"./index.esm-DQmSsb0O.js";const h=t("giveTeacherSalarySlices/giveTeacherSalaryThunk",async(s,{rejectWithValue:a})=>{const{request:e}=c();await e(`${o}Teachers/teachers/salary/create/`,"POST",JSON.stringify(s),n())}),P="_dayModal_e0c26_1",E="_btns_e0c26_11",_={dayModal:P,btns:E},I=d.memo(({setEditMode:s,editMode:a,teacherData:e})=>{const{register:S,handleSubmit:x,setValue:g}=F(),[J,z]=d.useState(""),D=w(),{id:$}=q(),[l,f]=d.useState(!1),{request:b}=c(),v=p=>{const T={salary_type:l,worked_hours:p.day,class_salary:p.class_salary};b(`${o}Teachers/teachers/salary/update_patch/${e.id}/`,"PATCH",JSON.stringify(T),n()).then(O=>{console.log(O),D(y($))}),console.log(T),s(!1)};return d.useEffect(()=>{console.log(e),e&&(l?g("day",e.worked_hours):(g("class_salary",e.class_salary),console.log("hello")))},[e,l]),r.jsx("div",{children:r.jsxs(A,{extraClass:_.dayModal,active:a,setActive:s,children:[r.jsx("h1",{children:"O'qituvchining 1 oylik dars soatlari"}),r.jsxs("div",{className:_.btns,children:[r.jsx(m,{onClick:()=>f(!0),type:l?"success":"simple",children:"Formula"}),r.jsx(m,{onClick:()=>f(!1),type:l?"simple":"success",children:"Formulasiz"})]}),r.jsx(M,{onSubmit:x(v),children:l?r.jsx(k,{title:"Kelmagan kunlar",placeholder:"Kelmagan kun",type:"number",register:S,name:"day"}):r.jsx(k,{title:"Oylik",placeholder:"Oylik kiriting",type:"number",register:S,name:"class_salary"})})]})})}),i=t("schoolTeacherDaySlice/schoolTeacherDayThunk",async({id:s,data:a})=>{const{request:e}=c();return await e(`${o}Teachers/teachers/salary/update_patch/${s}/`,"PATCH",JSON.stringify(a),n())}),N={workedDay:[],loading:!1,error:null},R=C({name:"schoolTeacherDaySlice",initialState:N,reducers:{},extraReducers:s=>{s.addCase(i.pending,a=>{a.loading=!0,a.error=null}).addCase(i.fulfilled,(a,e)=>{a.loading=!1,a.error=null,a.workedDay=e.payload}).addCase(i.rejected,(a,e)=>{a.loading=!1,a.error=e.error.message})}}),G=R.reducer,L=Object.freeze(Object.defineProperty({__proto__:null,SchoolTeacherCountDayModal:I,schoolTeacherDaySlice:G,schoolTeacherDayThunk:i},Symbol.toStringTag,{value:"Module"})),y=t("teacherSalarySlice/fetchTeacherSalaryThunk",async s=>{const{request:a}=c();return await a(`${o}Teachers/teacher-salary-list/${s}/`,"GET",null,n())});t("teacherSalarySlice/fetchUpdateTeacherSalaryThunk",async s=>{const{request:a}=c();return await a(`${o}Teachers/teacher-salary-list/${s}/`,"GET",null,n())});const u=t("teacherSalarySlice/fetchTeacherSalaryIdThunk",async s=>{const{request:a}=c();return await a(`${o}Teachers/teacher-salary-list-month/${s}/?status=False`,"GET",null,n())}),H={salaryData:[],salaryDatas:[],loading:!1,error:null},j=C({name:"teacherSalarySlice",initialState:H,reducers:{onChangeSalary:(s,a)=>{s.salaryDatas=[...s.salaryDatas=a.payload],console.log(a.payload)}},extraReducers:s=>{s.addCase(y.pending,a=>{a.loading=!0}).addCase(y.fulfilled,(a,e)=>{a.loading=!1,a.salaryData=e.payload}).addCase(y.rejected,(a,e)=>{a.loading=!1,a.error=e.error.message}).addCase(u.pending,a=>{a.loading=!0}).addCase(u.fulfilled,(a,e)=>{a.loading=!1,a.salaryDatas=e.payload}).addCase(u.rejected,(a,e)=>{a.loading=!1,a.error=e.error.message}).addCase(h.fulfilled,(a,e)=>{a.loading=!1,a.salaryData.push(e.payload)}).addCase(h.pending,a=>{a.loading=!0}).addCase(h.rejected,(a,e)=>{a.loading=!1,a.error=e.error.message})}}),{onChangeSalary:W}=j.actions,Q=j.reducer;export{I as S,u as a,y as f,h as g,L as i,Q as t};
