import{R as O,n as u,r,l as R,j as a,p as f,a as A,u as B,A as E,h as H,c as N}from"./index-Cux8sda1.js";import{M as V}from"./modal-BR27MEf1.js";import{S as k}from"./switch-sjHY-EbU.js";import"./userProfileSlice-BflEK4KO.js";import{g as M}from"./index-B-IQsIPc.js";import{g as P}from"./teacherParseSlice-z7KSx3F7.js";import{f as U}from"./teacherThunk-qU_2Y3xX.js";import{c as q,e as J,h as K}from"./groupsAttendanceSlice-DmRNDpcI.js";import"./index-CO9axSa1.js";import{m as L,o as W}from"./oftenUsedSelector-B4R2CTqR.js";import{c}from"./filters.module-C8GjSCwu.js";import"./cross-BXlnQeE0.js";import"./user_image-CruVt77w.js";import"./form-C3mZZqBW.js";const ie=O.memo(({active:s,setActive:e,setIsFilter:l})=>{const o=localStorage.getItem("selectedBranch"),g=u(L),j=u(P),[i,I]=r.useState("all"),[n,y]=r.useState("all"),[d,T]=r.useState("all"),[x,b]=r.useState(!1),p=R();u(M);const G=u(q);function h(t,w,F){p(K({teacherId:t,typeId:w,subjId:F,userBranchId:o})),l(!0)}r.useEffect(()=>{o&&p(U({userBranchId:o}))},[o]),r.useEffect(()=>{p(W()),p(J())},[]);const _=t=>{t!==n&&(y(t),h(t,d,i))},C=t=>{t!==d&&(T(t),h(n,t,i))},D=t=>{t!==i&&(I(t),h(n,d,t))};return a.jsx(V,{active:s,setActive:e,children:a.jsxs("div",{className:c.filter,children:[a.jsx("h1",{children:"Filter"}),a.jsxs("div",{className:c.filter__container,children:[a.jsx(f,{title:"Teacher",options:[{name:"Hamma",id:"all"},...j],extraClass:c.filter__select,onChangeOption:_,defaultValue:n}),a.jsx(f,{title:"Fan",options:[{name:"Hamma",id:"all"},...g],extraClass:c.filter__select,onChangeOption:t=>D(t),defaultValue:i}),a.jsx(f,{title:"Kurs turi",options:[{name:"Hamma",id:"all"},...G],extraClass:c.filter__select,onChangeOption:C,defaultValue:d}),a.jsxs("div",{className:c.filter__switch,children:[a.jsx("p",{children:"Oâ€™chirilgan"}),a.jsx(k,{activeSwitch:x,onChangeSwitch:b})]})]})]})})}),m=A("filterGroups/fetchFilteredGroups",async s=>{const{request:e}=B();return await e(`${E}`,"POST",JSON.stringify(s),H())}),$={groups:null,teacherId:null,subjectId:null,typeId:null,isDelete:!1,loading:!1,error:null},S=N({name:"filterGroups",initialState:$,reducers:{getTeacherId:(s,e)=>{s.teacherId=e.payload},getSubjectId:(s,e)=>{s.subjectId=e.payload},getTypeId:(s,e)=>{s.typeId=e.payload},getIsDelete:(s,e)=>{s.isDelete=e.payload}},extraReducers:s=>s.addCase(m.pending,e=>{e.loading=!0,e.error=null}).addCase(m.fulfilled,(e,l)=>{e.groups=l.payload,e.loading=!1,e.error=null}).addCase(m.rejected,(e,l)=>{e.loading=!1,e.error=l.payload??null})}),ne=S.reducer,{getTeacherId:de,getSubjectId:pe,getTypeId:ue,getIsDelete:he}=S.actions;export{ie as GroupsFilter,ne as filteredGroupsSlice,he as getIsDelete,pe as getSubjectId,de as getTeacherId,ue as getTypeId};
