import{r as h,b as D,j as l,E as k,e as P,B as m,aa as o,h as d,A as p,i as u,bd as $,ab as S}from"./index-Dts_nlzx.js";import{C as q}from"./confirmModal-BY7I8EU1.js";const R="_capital__wrapper_165i4_1",z="_capital__box_165i4_6",E="_capital__img_165i4_24",O="_capital__descr_165i4_29",_={capital__wrapper:R,capital__box:z,capital__img:E,capital__descr:O},w="/assets/defaultImg-0b2D-JOq.svg",ra=h.memo(({capitalData:e,isCanView:a})=>{const r=D();return l.jsx("div",{className:_.capital,children:l.jsx("div",{className:_.capital__wrapper,children:e?.map((n,t)=>l.jsxs("div",{onClick:()=>r(`capitalBoxProfile/${n.id}`),className:_.capital__box,children:[l.jsx("div",{className:_.capital__img,children:n.img?l.jsx("img",{src:`${k}${n.img}`,alt:""}):l.jsx("img",{src:w,alt:""})}),l.jsxs("div",{className:_.capital__descr,children:[l.jsx("h3",{className:_.capital__title,children:n?.name}),l.jsx("h2",{children:n?.id_number})]})]}))})})}),H="_capitalHeader_1emzk_1",A="_active_1emzk_13",G="_capitalWrapper_1emzk_17",C={capitalHeader:H,active:A,capitalWrapper:G},ia=h.memo(({activeMenu:e,setActiveMenu:a,categoryMenu:r})=>{const t=r.map(c=>l.jsx("h2",{onClick:()=>a(c.name),className:P(C.itemName,{[C.active]:e===c.name}),children:c.label},c.name));return l.jsx("div",{className:C.capitalHeader,children:l.jsx("div",{className:C.capitalWrapper,children:t})})}),W="_capitalInfo__wrapper_1hzma_1",F="_capitalBox_1hzma_1",J="_capitalBox_img_1hzma_7",L="_capitalBoxInfo_1hzma_11",M="_capitalInfo__btn_1hzma_23",g={capitalInfo__wrapper:W,capitalBox:F,capitalBox_img:J,capitalBoxInfo:L,capitalInfo__btn:M},na=h.memo(({capitalData:e,editModal:a,setEditModal:r,onDelete:n})=>{const[t,c]=h.useState(!1),T=l.jsxs("div",{className:g.capitalBox,children:[l.jsx("div",{className:g.capitalBox_img,children:e?.img?l.jsx("img",{src:e?.img,alt:""}):l.jsx("img",{src:w,alt:""})}),l.jsxs("div",{className:g.capitalBoxInfo,children:[l.jsx("div",{children:e?.name}),l.jsxs("span",{children:["Kategoriya raqami: ",e?.id_number]}),l.jsxs("div",{className:g.capitalInfo__btn,children:[l.jsx(m,{onClick:r,children:"O’zgartirish"}),l.jsxs(m,{children:[l.jsx("i",{className:"fas fa-download"}),"Download File"]}),l.jsx(m,{onClick:()=>c(!t),type:"danger",children:"O’chirish"})]})]})]});return l.jsxs("div",{className:g.capitalInfo,children:[l.jsx("div",{className:g.capitalInfo__wrapper,children:T}),l.jsx(q,{setActive:c,active:t,onClick:n,title:"Rostanham ni o'chirmoqchimisiz ",type:"danger"})]})}),K="_product__header_94vca_1",U="_product__header_title_94vca_5",V="_product__header_right_94vca_9",Q="_btn_94vca_23",X="_product__wrapper_94vca_26",Y="_box_94vca_31",Z="_box_item_94vca_37",s={product__header:K,product__header_title:U,product__header_right:V,btn:Q,product__wrapper:X,box:Y,box_item:Z},ca=h.memo(({capitalData:e,addModal:a,setAddModal:r})=>{const n=D(),c=e?.map((i,T)=>l.jsxs("div",{onClick:()=>n(`categoryProfile/${i.id}`),className:s.box,children:[l.jsx("img",{src:w,alt:""}),l.jsxs("div",{className:s.box_item,children:[l.jsxs("h2",{children:["Nomi : ",i?.name]}),l.jsxs("ul",{children:[l.jsxs("li",{children:["Raqami : ",i?.id_number]}),l.jsxs("li",{children:["Narxi : ",i?.price]}),l.jsxs("li",{children:["Muddati : ",i?.term," yil"]}),l.jsxs("li",{children:["Sana : ",i?.date]}),l.jsxs("li",{children:["To'lov turi : ",i?.payment_type?.name]})]})]})]}));return l.jsxs("div",{className:s.product,children:[l.jsxs("div",{className:s.product__header,children:[l.jsx("div",{className:s.product__header_title,children:"Kategoriya mahsulotlari:"}),l.jsxs("div",{className:s.product__header_right,children:[l.jsxs("span",{children:["Jami (Down Cost): ",e?.length]}),l.jsxs("div",{children:[l.jsx(m,{type:"danger",children:"O’chirilganlar"}),l.jsx(m,{onClick:()=>r(!a),extraClass:s.btn,type:"editPlus",children:l.jsx("i",{className:"fa fa-plus"})})]})]})]}),l.jsx("div",{className:s.product__wrapper,children:c})]})}),f=o("capitalSlice/createCapitalCategory",async({data:e,changedImages:a})=>{const{request:r}=d(),n=new FormData;return n.append("img",a),n.append("name",e.name),n.append("id_number",e.id_number),await r(`${p}Capital/capital_category/`,"POST",n,$())}),x=o("capitalSlice/getCapitalDataThunk",async()=>{const{request:e}=d();return await e(`${p}Capital/capital_category/`,"GET",null,u())}),y=o("capitalSlice/getCapitalInfo",async e=>{const{request:a}=d();return await a(`${p}Capital/capital_category/${e}/`,"GET",null,u())}),j=o("capitalSlice/changeCapitalInfoThunk",async({id:e,data:a})=>{const{request:r}=d();return await r(`${p}Capital/capital_category/${e}/`,"PATCH",JSON.stringify(a),u())}),I=o("capitalSlice/getInsideCategory",async e=>{const{request:a}=d();return await a(`${p}Capital/capital/${e}/`,"GET",null,u())}),v=o("changeCapitalInfo/createInsideCategory",async({data:e,changedImages:a,selectPayment:r,selectedBranches:n,id:t})=>{const{request:c}=d(),i=new FormData;return i.append("name",e.name),i.append("img",a),i.append("category",t),i.append("branch",n),i.append("id_number",e.id_number),i.append("price",e.price),i.append("total_down_cost",e.total_down_cost),i.append("term",e.term),i.append("curriculum_hours",e.curriculum_hours),i.append("payment_type",r),await c(`${p}Capital/capital_create/`,"POST",i,$())}),b=o("changeCapitalInfo/Payments/payment-types/",async()=>{const{request:e}=d();return await e(`${p}Payments/payment-types/`,"GET",null,u())}),N=o("changeCapitalInfo/getCapitalCategory",async e=>{const{request:a}=d();return await a(`${p}Capital/capital_one/${e}/`,"GET",null,u())}),aa={loading:!1,error:null,capitalsData:[],capitalPermission:[],capitalCategoryInfo:[],capitalInsideCategory:[],paymentTypes:[],capitalCategory:[]},B=S({name:"capitalSlice",initialState:aa,reducers:{onDeleteBranch:(e,a)=>{a.payload.id,e.capitalCategoryInfo=a.payload}},extraReducers:e=>e.addCase(x.pending,a=>{a.loading=!0,a.error=null}).addCase(x.fulfilled,(a,r)=>{a.loading=!1,a.capitalsData=r.payload}).addCase(x.rejected,(a,r)=>{a.error=r.payload??null,a.loading=!1}).addCase(f.pending,a=>{a.loading=!0,a.error=null}).addCase(f.fulfilled,(a,r)=>{a.loading=!1,a.capitalsData=[...a.capitalsData,r.payload],a.error=null}).addCase(f.rejected,(a,r)=>{a.error="Error",a.loading=!1}).addCase(y.pending,a=>{a.loading=!0,a.error=null}).addCase(y.fulfilled,(a,r)=>{a.capitalCategoryInfo=r.payload,a.loading=!1,a.error=null}).addCase(y.rejected,(a,r)=>{a.loading=!1,a.error=r.payload??null}).addCase(j.pending,a=>{a.loading=!0,a.error=null}).addCase(j.fulfilled,(a,r)=>{a.capitalCategoryInfo=r.payload,a.loading=!1,a.error=null}).addCase(j.rejected,(a,r)=>{a.loading=!1,a.error=r.payload??null}).addCase(I.pending,a=>{a.loading=!0,a.error=null}).addCase(I.fulfilled,(a,r)=>{a.capitalInsideCategory=r.payload,a.loading=!1,a.error=null}).addCase(I.rejected,(a,r)=>{a.loading=!1,a.error=r.payload??null}).addCase(v.pending,a=>{a.loading=!0,a.error=null}).addCase(v.fulfilled,(a,r)=>{a.loading=!1,a.capitalInsideCategory=[...a.capitalInsideCategory,r.payload],a.error=null}).addCase(v.rejected,(a,r)=>{a.error=r.payload??null,a.loading=!1}).addCase(b.pending,a=>{a.loading=!0,a.error=!1}).addCase(b.fulfilled,(a,r)=>{a.paymentTypes=r.payload,a.loading=!1,a.error=!1}).addCase(b.rejected,(a,r)=>{a.error="error",a.loading=!1}).addCase(N.pending,a=>{a.loading=!0,a.error=!1}).addCase(N.fulfilled,(a,r)=>{a.capitalCategory=r.payload,a.loading=!1,a.error=!1}).addCase(N.rejected,a=>{a.error="error",a.loading=!1})}),{onDeleteBranch:ta}=B.actions,{reducer:sa}=B,oa=e=>e.capital?.capitalsData,da=e=>e.capital?.capitalCategoryInfo,pa=e=>e.capital?.loading,_a=e=>e.capital?.capitalPermission,ga=e=>e.capital?.capitalInsideCategory,ua=e=>e.capital?.paymentTypes;export{ra as C,_a as a,x as b,oa as c,sa as d,f as e,ga as f,pa as g,ua as h,y as i,b as j,I as k,da as l,ia as m,na as n,ca as o,v as p,j as q};
