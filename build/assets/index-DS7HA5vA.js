import{j as e,T as m,l as N,n as v,r as x,k as f,m as C,o as I,a3 as w,a4 as j}from"./index-Cux8sda1.js";import{A as M,a as P}from"./accountingFilter-Bw9Cph-G.js";import"./modal-BR27MEf1.js";import"./pagination-Cj0p_t2O.js";import{j as A}from"./otchotAccountingSlice-C41gM6yT.js";import{f as O,i as E}from"./capitalSelector-D7mI4_e4.js";import{i as F}from"./inkasatsiyaThunk-M1jB3E8O.js";import"./radio-c1ywR2KC.js";import"./cross-BXlnQeE0.js";import"./confirmModal-DiNALKc8.js";const R=({students:s,extraClass:d,formatSalary:n})=>{const l=s?.students?.student_data?.map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsxs("td",{children:[a.name,"  ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.payment_sum)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:d,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"To'lov"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:l})]})})},q=s=>s.inkasatsiyaSlice.inkasatsiya,D=({overhead:s,extraClass:d,formatSalary:n})=>{const l=s?.overheads?.overhead_data?.map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.payment.name}),e.jsx("td",{children:n(a.price)}),e.jsx("td",{children:a.created})]}));return e.jsx("div",{className:d,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:l})]})})},B=({capital:s,extraClass:d,formatSalary:n})=>{const l=s?.capitals?.capital_data?.map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.payment_type.name}),e.jsx("td",{children:n(a.price)}),e.jsx("td",{children:a.added_date})]}));return e.jsx("div",{className:d,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:l})]})})},H=({teacher:s,extraClass:d,formatSalary:n})=>{console.log(s,"teacabsdh abshd");const l=s?.teachers?.teacher_data?.map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsxs("td",{children:[a.name," ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.salary)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:d,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:l})]})})},L=({workers:s,extraClass:d,formatSalary:n})=>{const l=s?.workers?.worker_data?.map((a,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsxs("td",{children:[a.name," ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.salary)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:d,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:l})]})})},U="_overalMain_1211f_1",$="_overal_1211f_1",z="_inkasatsiya_1211f_17",G="_table_1211f_28",i={overalMain:U,overal:$,inkasatsiya:z,table:G},_=[{name:"studentsPayments",label:"student payment"},{name:"teachersSalary",label:"teacher salary"},{name:"employeesSalary",label:"employer salary"},{name:"overhead",label:"overhead"},{name:"capital",label:"capital"}],te=()=>{const s=N(),d=v(O),[n,h]=x.useState(_[0].name),l=f();let{locationId:a}=C();const[r,b]=x.useState([]),[p,T]=x.useState([]),t=v(q),[y,g]=x.useState([]),u=v(I);x.useEffect(()=>{if(r.length&&p.length&&y>0){const o={do:r,ot:p,payment_type:y,branch:u.id};s(F({res:o,branchId:u.id}))}s(E())},[r,p,y,u]);const c=o=>Number(o).toLocaleString(),S=()=>{switch(n){case"studentsPayments":return e.jsxs("h2",{children:["o'quvchilarning umimiy to'lovi : ",t?.students?.student_total_payment?c(t?.students?.student_total_payment):0," "]});case"teachersSalary":return e.jsxs("h2",{children:["O'qituvchilarning umumiy to'lovi : ",t?.teachers?.teacher_total_salary?c(t?.teachers?.teacher_total_salary):0," "]});case"employeesSalary":return e.jsxs("h2",{children:["Ishchilarning umumiy to'lovi : ",t?.workers?.worker_total_salary?c(t?.workers?.worker_total_salary):0," "]});case"overhead":return e.jsxs("h2",{children:["overheadning umumiy to'lovi : ",t?.overheads?.total_overhead_payment?c(t?.overheads?.total_overhead_payment):0," "]});case"capital":return e.jsxs("h2",{children:["capitalning umumiy to'lovi : ",t?.capitals?.total_capital?c(t?.capitals?.total_capital):0]})}},k=x.useCallback(o=>{s(A({value:o})),l(`./${o}`)},[l]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"2rem"},children:[t.overall?e.jsxs("div",{className:i.overalMain,children:["Umumiy : ",c(t.overall)]}):null,e.jsxs("div",{className:i.overal,children:[S(),e.jsx("div",{className:i.inkasatsiya,children:e.jsx(M,{activeMenu:n,paymentType:d,to:r,setTo:b,ot:p,setOt:T,setSelectedRadio:g,radio:y})})]}),e.jsx(P,{activeMenu:n,setActive:h,setPage:k,filter:_}),e.jsxs(w,{children:[e.jsx(j,{path:"teachersSalary",element:e.jsx(H,{formatSalary:c,extraClass:i.table,teacher:t,path:"teachersSalary",locationId:a})}),e.jsx(j,{path:"employeesSalary",element:e.jsx(L,{formatSalary:c,extraClass:i.table,path:"employeesSalary",workers:t,locationId:a})}),e.jsx(j,{path:"overhead",element:e.jsx(D,{formatSalary:c,extraClass:i.table,overhead:t,path:"overhead",locationId:a})}),e.jsx(j,{path:"studentsPayments",element:e.jsx(R,{formatSalary:c,extraClass:i.table,students:t,locationId:a})}),e.jsx(j,{path:"capital",element:e.jsx(B,{formatSalary:c,extraClass:i.table,capital:t,path:"capital",locationId:a})})]})]})};export{te as Inkasatsiya};
