import{j as s,I as S,B as C,r as u,l as f,u as k,A as R,h as z}from"./index-Cux8sda1.js";import{e as x,j as B,C as I,k as N,m as T,n as D}from"./classColorAddFilter-h4CFAAJf.js";import{o as j}from"./alertSlice-XeBTN8B3.js";import{M as O}from"./modal-BR27MEf1.js";import{F as P}from"./form-C3mZZqBW.js";import"./workerSelect-N9ju4zO7.js";import{u as q}from"./index.esm-DQmSsb0O.js";import{Z as L}from"./index-f2PSOyoQ.js";import{C as M}from"./confirmModal-DiNALKc8.js";import"./seq-BPRV6kik.js";import"./constsMonthList-CnI754jh.js";import"./cross-BXlnQeE0.js";import"./Transition-CosWKtpf.js";import"./switch-sjHY-EbU.js";const _=({handleSubmit:r,register:l,setActive:e,active:n,changeName:m,setChangeName:c,changeColor:a,setColorChange:o,colorChange:t,deleteColor:h,edit:i})=>(console.log(i),s.jsxs(O,{active:m,setActive:c,children:[s.jsx("h2",{children:"Rangni oz'gartirish yoki O'chirish"}),s.jsx("div",{children:s.jsxs(P,{extraClassname:x.extraClassForm,typeSubmit:"",children:[s.jsx(S,{name:"name",register:l}),s.jsxs("div",{className:x.changeColorItem,children:[s.jsxs("div",{className:x.color,children:[s.jsx("h2",{children:"Tanlangan rang :"}),s.jsx("div",{style:{fontSize:"2rem"},children:t||i?.value})]}),s.jsx(L,{style:{width:"30rem",height:"15rem"},color:i?.value,onChange:o})]}),s.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[s.jsx(C,{onClick:r(a),children:"Rangni o'zgartirish"}),i?.status?s.jsx(C,{onClick:r(()=>e(!n)),type:"danger",children:"Rangni O'chirish"}):null]}),s.jsx(M,{setActive:e,active:n,onClick:r(h),type:"danger"})]})})]})),ss=({setEdit:r,edit:l,setActiveEdit:e,activeMenu:n,setActiveMenu:m,classes:c,branch:a})=>{const[o,t]=u.useState([]);f();const h=l.id;return s.jsxs(s.Fragment,{children:[s.jsx(B,{classesType:c,setActiveEdit:e,edit:l,setEdit:r,active:n,setActive:m,branch:a}),s.jsx(I,{id:h,active:n,selectBox:o,setSelectBox:t,edit:l})]})},es=({color:r,setEdit:l,edit:e})=>{const{register:n,handleSubmit:m,setValue:c}=q(),[a,o]=u.useState(!1),t=f(),[h,i]=u.useState(!1),{request:v}=k(),[g,y]=u.useState(""),A=p=>{const d=e.id,E={value:g||e.value,...p};t(D({id:d,res:E})),c("name",""),o(!a),t(j({msg:"rang muvaffaqiyatli o'zgartirildi",status:!0,type:"success"}))},F=()=>{const p=e.id;v(`${R}Class/class_colors-delete/${p}/`,"DELETE",null,z()).then(d=>{t(T({id:p})),o(!a),i(!1),t(j({msg:d.msg,status:!0,type:"success"}))}).catch(d=>{console.log(d)})};return s.jsxs(s.Fragment,{children:[s.jsx(N,{color:r,edit:e,setEdit:l,changeName:a,setChangeName:o,setValue:c}),s.jsx(_,{setActive:i,active:h,edit:e,changeName:a,setChangeName:o,changeColor:A,handleSubmit:m,register:n,colorChange:g,setColorChange:y,deleteColor:F})]})};export{es as ClassAddColorPage,ss as ClassPage};
