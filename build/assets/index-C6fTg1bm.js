import{b as k,ao as b,r as l,ap as v,a as s,t as N,aq as w,ar as I,g as L,w as f,as as y,u as g,j as r,N as C,C as M,M as U,v as $,at as E,au as P}from"./index-9ggpSpOh.js";import{L as S}from"./link-DHERfcsF.js";import{g as T}from"./brachSwitcherSelector-vlhkEAq9.js";import{A as q}from"./alert-CvHoYf_-.js";const e={director:"director",admin:"admin",programmer:"programmer",smm:"smm",accountant:"accountant",operator:"operator"},O=[{to:"register",name:"Registratsiya",icon:"fa-edit",roles:!0},{to:"taskManager",name:"Task Manager",icon:"fa-tasks",roles:[e.operator,e.admin]},{to:"calendar",name:"Kalendar",icon:"fas fa-calendar-times",roles:[e.director,e.admin]},{to:"students",name:"O'quvchilar",icon:"fa-user-graduate",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"groups",name:"Sinflar",icon:"fa-users",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"teacher",name:"O'qituvchilar",icon:"fa-user-tie",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"vacancyPage",name:"Vakansiyalar",icon:"fa-tasks",roles:[e.director,e.programmer],branches:!0},{to:"timeList",name:"Time List",icon:"fa-clock",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"time",name:"Time Table",icon:"fa-clock",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"employer",name:"Employers",icon:"fa-user-graduate",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"flows",name:"Flows",icon:"fa-user-graduate",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"class",name:"Class",icon:"fa-user-graduate",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"contract",name:"Contract",icon:"fa-file-contract",roles:[e.admin,e.director,e.programmer]},{to:"capital",name:"Capital",icon:"fa-book",roles:[e.admin,e.director,e.programmer,e.accountant],branches:!0},{to:"accounting/studentsPayments",name:"Buxgalteriya ",icon:"fa-calculator",roles:[e.admin,e.director,e.programmer],branches:!0,multi:!0},{to:"rooms",name:"Honalar",icon:"fa-door-closed",roles:[e.admin,e.director,e.programmer],branches:!0},{to:"../../",name:"Web-Sayt",roles:[e.smm]}],R="_menu_d660w_1",B="_menu__user_d660w_12",D="_userImage_d660w_22",A="_userInfo_d660w_27",F="_menu__inner_d660w_33",H="_link_d660w_57",K="_active_d660w_63",V="_link__href_d660w_71",W="_link__title_d660w_82",z="_menu__footer_d660w_86",G="_menu__exit_d660w_103",a={menu:R,menu__user:B,userImage:D,userInfo:A,menu__inner:F,link:H,active:K,link__href:V,link__title:W,menu__footer:z,menu__exit:G},J=()=>{const t=k(),{pathname:u}=b(),{theme:c}=l.useContext(v);s(N),s(w);const o=s(I);s(L);const h=s(f),i=s(y),_=s(T);g();const p=()=>{t("/login")},x=l.useCallback(()=>O.map((n,j)=>{if(i?.length>1&&!n.multi||i?.length>1&&n.multi||`${_?.id}`,!(i>1&&!n.branches)&&(typeof n.roles=="object"&&o?.job.some(m=>n.roles.includes(m))||typeof n.roles=="boolean"&&n.roles))return r.jsx(C,{to:n.to,className:({isActive:m})=>m?`${a.link} ${a.active}`:`${a.link}`,children:r.jsxs("span",{className:a.link__href,children:[r.jsx("i",{className:`fas ${n.icon} icon-link`}),r.jsx("span",{className:a.link__title,children:n.name})]})},j)}),[c,i,_,o])();return r.jsxs("nav",{className:a.menu,children:[r.jsxs("div",{className:a.menu__user,children:[r.jsx(S,{to:`profile/${h}`,children:r.jsx("img",{className:a.userImage,src:o?.profile_img??M,alt:""})}),r.jsxs("div",{className:a.userInfo,children:[r.jsx("h3",{children:o?.username}),r.jsx("p",{children:o?.job[0]})]})]}),r.jsx("ul",{className:a.menu__inner,children:o?.job?x:r.jsx(U,{})}),r.jsx("div",{className:a.menu__footer,children:r.jsxs("div",{className:a.menu__exit,onClick:p,children:[r.jsx("i",{className:"fas fa-sign-out-alt"}),r.jsx("h2",{children:"Chiqish"})]})})]})},Q="_main_1vxf6_1",X="_main__content_1vxf6_7",d={main:Q,main__content:X},ne=()=>{const t=s(f),u=s($),c=g();return l.useEffect(()=>{t&&c(E(t))},[t,u]),r.jsxs(r.Fragment,{children:[r.jsx(q,{}),r.jsx(J,{}),r.jsx("main",{className:d.main,children:r.jsx("div",{className:d.main__content,children:r.jsx(P,{})})})]})};export{ne as Layout};
