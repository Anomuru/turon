import{r as a,a as l,cF as Q,j as e,w as E,d7 as Y,g as V,u as A,d8 as H,d9 as J,da as X,I,db as ee,R as te,av as W,c$ as ae,B as P,dc as se,dd as ne}from"./index-B1KXs2zi.js";import{V as re}from"./vacancyPageEdit-CJX2I04g.js";const oe="_theadBody_3ewuw_21",ie="_workerList_3ewuw_41",ce="_workerSetting_3ewuw_48",le="_userImage_3ewuw_52",S={theadBody:oe,workerList:ie,workerSetting:ce,userImage:le},M="/assets/workerImg-CP2ssIh7.svg",$="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.70833%2017.3346L6.375%2014.668C6.19444%2014.5985%206.02431%2014.5152%205.86458%2014.418C5.70486%2014.3207%205.54861%2014.2166%205.39583%2014.1055L2.91667%2015.1471L0.625%2011.1888L2.77083%209.5638C2.75694%209.46658%202.75%209.37283%202.75%209.28255V8.72005C2.75%208.62977%202.75694%208.53602%202.77083%208.4388L0.625%206.8138L2.91667%202.85547L5.39583%203.89714C5.54861%203.78602%205.70833%203.68186%205.875%203.58464C6.04167%203.48741%206.20833%203.40408%206.375%203.33464L6.70833%200.667969H11.2917L11.625%203.33464C11.8056%203.40408%2011.9757%203.48741%2012.1354%203.58464C12.2951%203.68186%2012.4514%203.78602%2012.6042%203.89714L15.0833%202.85547L17.375%206.8138L15.2292%208.4388C15.2431%208.53602%2015.25%208.62977%2015.25%208.72005V9.28255C15.25%209.37283%2015.2361%209.46658%2015.2083%209.5638L17.3542%2011.1888L15.0625%2015.1471L12.6042%2014.1055C12.4514%2014.2166%2012.2917%2014.3207%2012.125%2014.418C11.9583%2014.5152%2011.7917%2014.5985%2011.625%2014.668L11.2917%2017.3346H6.70833ZM8.16667%2015.668H9.8125L10.1042%2013.4596C10.5347%2013.3485%2010.934%2013.1853%2011.3021%2012.9701C11.6701%2012.7548%2012.0069%2012.4944%2012.3125%2012.1888L14.375%2013.043L15.1875%2011.6263L13.3958%2010.2721C13.4653%2010.0777%2013.5139%209.87283%2013.5417%209.65755C13.5694%209.44228%2013.5833%209.22352%2013.5833%209.0013C13.5833%208.77908%2013.5694%208.56033%2013.5417%208.34505C13.5139%208.12978%2013.4653%207.92491%2013.3958%207.73047L15.1875%206.3763L14.375%204.95964L12.3125%205.83464C12.0069%205.51519%2011.6701%205.24783%2011.3021%205.03255C10.934%204.81727%2010.5347%204.65408%2010.1042%204.54297L9.83333%202.33464H8.1875L7.89583%204.54297C7.46528%204.65408%207.06597%204.81727%206.69792%205.03255C6.32986%205.24783%205.99306%205.50825%205.6875%205.8138L3.625%204.95964L2.8125%206.3763L4.60417%207.70964C4.53472%207.91797%204.48611%208.1263%204.45833%208.33464C4.43056%208.54297%204.41667%208.76519%204.41667%209.0013C4.41667%209.22352%204.43056%209.4388%204.45833%209.64714C4.48611%209.85547%204.53472%2010.0638%204.60417%2010.2721L2.8125%2011.6263L3.625%2013.043L5.6875%2012.168C5.99306%2012.4874%206.32986%2012.7548%206.69792%2012.9701C7.06597%2013.1853%207.46528%2013.3485%207.89583%2013.4596L8.16667%2015.668ZM9.04167%2011.918C9.84722%2011.918%2010.5347%2011.6332%2011.1042%2011.0638C11.6736%2010.4944%2011.9583%209.80686%2011.9583%209.0013C11.9583%208.19575%2011.6736%207.50825%2011.1042%206.9388C10.5347%206.36936%209.84722%206.08464%209.04167%206.08464C8.22222%206.08464%207.53125%206.36936%206.96875%206.9388C6.40625%207.50825%206.125%208.19575%206.125%209.0013C6.125%209.80686%206.40625%2010.4944%206.96875%2011.0638C7.53125%2011.6332%208.22222%2011.918%209.04167%2011.918Z'%20fill='%236B7280'/%3e%3c/svg%3e",de=({currentTableData:u,currentPage:x,PageSize:d,editMode:w,onEditClick:c})=>{const[C,o]=a.useState(!1),n=l(t=>t.vacancyWorkerSlice.workerData),j=Array.isArray(n)?n:[n],[k,_]=a.useState(null),b=`${Q()}`,B=t=>{o(!0),_(t)},L=()=>j?.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:(x-1)*d+s+1}),e.jsxs("td",{className:S.workerList,children:[t?.profile_img?e.jsx("img",{className:S.userImage,src:`${b}${t.profile_img}`,alt:""}):e.jsx("img",{src:M,alt:""}),`${t?.name} - ${t?.surname}`," ",e.jsx("img",{className:S.workerSetting,onClick:()=>B(t?.id),src:$,alt:""})]})]},t?.id));return e.jsx(e.Fragment,{children:e.jsxs(E,{children:[e.jsx("thead",{className:S.theadBody,children:e.jsxs("tr",{children:[e.jsx("th",{children:"№"}),e.jsx("th",{children:"Worker"})]})}),e.jsx("tbody",{children:L()}),k&&e.jsx(Y,{user_id:k,active:C,setActive:o})]})})},he=[{id:1,workName:"Kimdir",workerNames:"Nima yozishni bilmadim"},{id:2,workName:"O'quvchi",workerNames:"Nima yozishni bilmadim"},{id:3,workName:"Manager",workerNames:"Nima yozishni bilmadim"},{id:4,workName:"Admin",workerNames:"Nima yozishni bilmadim"},{id:5,workName:"Qo'shni",workerNames:"Nima yozishni bilmadim"},{id:6,workName:"Sattor aka",workerNames:"Nima yozishni bilmadim"},{id:7,workName:"Ko'chani boshidagi brat",workerNames:"Nima yozishni bilmadim"}],me=[{workerImg:M,workerName:"Mahmud Yuldoshov",workerSetting:$}],ue="_deletedGroups_16ogk_1",xe="_mainContainer_filterPanelBox_16ogk_1",Ce="_mainContainer_buttonPanelBox_16ogk_35",ke="_mainContainer_buttonPanelBox_leftCreateButton_16ogk_42",_e="_mainContainer_buttonPanelBox_leftCreateButtons_16ogk_50",ge="_mainContainer_tablePanelBox_16ogk_86",we="_buttonHelper_16ogk_101",je="_buttonHelpers_16ogk_110",i={deletedGroups:ue,mainContainer_filterPanelBox:xe,mainContainer_buttonPanelBox:Ce,mainContainer_buttonPanelBox_leftCreateButton:ke,mainContainer_buttonPanelBox_leftCreateButtons:_e,mainContainer_tablePanelBox:ge,buttonHelper:we,buttonHelpers:je},fe="_theadBody_adwtd_1",be="_checkBox_adwtd_15",D={theadBody:fe,checkBox:be},Be=({currentTableData:u,currentPage:x,PageSize:d,editMode:w,onEditClick:c,selectedItems:C,setSelectedItems:o})=>{const{id:n}=l(V),j=A(),k=l(H);k.job?.map(t=>t.group.name);const _=l(J);a.useEffect(()=>{n&&j(X(n))},[j,n]);const b=t=>{t.target.checked?o(u.map(s=>s.id)):o([])},B=(t,s)=>{t.target.checked?o(h=>[...h,s]):o(h=>h.filter(g=>g!==s))},L=()=>_?e.jsx(ee,{}):k.job?.map((t,s)=>{const h=t.group.permissions||[];return e.jsx(te.Fragment,{children:h.map((g,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:(x-1)*d+f+1}),e.jsx("td",{children:t.group.name}),e.jsx("td",{children:g.name}),!w&&e.jsx("td",{children:e.jsx(I,{style:{width:"25px"},type:"checkbox",checked:C.includes(t.id),onChange:p=>B(p,t.id)})})]},g.id))},t.id)});return e.jsxs(E,{children:[e.jsx("thead",{className:D.theadBody,children:e.jsxs("tr",{children:[e.jsx("th",{children:"№"}),e.jsx("th",{children:"Ishchi ismi"}),e.jsx("th",{children:"Ruxsatlari"}),!w&&e.jsx("th",{className:D.checkBox,children:e.jsx(I,{style:{width:"25px"},type:"checkbox",onChange:b,checked:C.length===u.length})})]})}),e.jsx("tbody",{children:L()})]})},ye=()=>{const[u,x]=a.useState(!1),[d,w]=a.useState(!1),[c,C]=a.useState(!1),[o,n]=a.useState(!1),[j,k]=a.useState(!1),[_,b]=a.useState(1),[B,L]=a.useState(""),[t,s]=a.useState([]),[h,g]=a.useState(null),[f,p]=a.useState([]),[z,G]=a.useState(!1),R=A();l(H);const v=a.useMemo(()=>20,[]),T=l(W),{id:F}=l(V),y=l(W);a.useEffect(()=>{y&&y?.job&&G(y.job.includes("director"))},[y]),a.useEffect(()=>{s(c?me:he)},[c]);const U=r=>{g(r),n(!0)},O=r=>{s(m=>m.map(N=>N.id===r.id?r:N)),n(!1)},Z=()=>{s(r=>r.filter(m=>!f.includes(m.id))),p([])},K=async r=>{C(!c);const m={job:Number(r)};try{await R(ne(m))}catch(N){console.error("An error occurred:",N)}},q=r=>{s(m=>[...m,r])};return e.jsxs("div",{className:i.deletedGroups,children:[e.jsx("div",{className:i.mainContainer_filterPanelBox}),e.jsxs("div",{className:i.mainContainer_buttonPanelBox,children:[e.jsx("div",{className:i.mainContainer_buttonPanelBox_leftCreateButtons,children:z?e.jsx(ae,{activeSwitch:c,onChangeSwitch:()=>K(F)}):null}),e.jsxs("div",{className:i.mainContainer_buttonPanelBox_leftCreateButton,children:[c?null:e.jsxs(e.Fragment,{children:[e.jsx(P,{extraClass:i.buttonHelper,children:e.jsx("i",{className:"fas fa-plus"}),onClick:()=>x(!u)}),e.jsx(P,{extraClass:i.buttonHelper,children:e.jsx("i",{className:"fas fa-pencil"}),onClick:()=>w(!d)})]}),!d&&f.length>0&&e.jsx(P,{extraClass:i.buttonHelpers,children:e.jsx("i",{style:{color:"white"},className:"fas fa-trash"}),onClick:Z})]})]}),e.jsx("div",{className:i.mainContainer_tablePanelBox,children:c?e.jsx(de,{currentTableData:T,currentPage:_,PageSize:v}):e.jsx(Be,{currentTableData:t,currentPage:_,PageSize:v,editMode:d,onEditClick:U,selectedItems:f,setSelectedItems:p})}),e.jsx(re,{setModal:n,modal:o,vacancy:h,onSave:O}),e.jsx(se,{setActive:x,active:u,onAddVacancy:q})]})};export{ye as VacancyWorkPage};
