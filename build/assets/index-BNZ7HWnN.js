import{a as m,r as s,j as e,w as $,M as Z,S as O,P as K,B as E,b as se,u as H,fg as ne,c$ as pe,fh as we,fi as Ee,fj as Le,fk as Me,fl as Fe,g as L,fm as $e,D as me,C as ae,i as W,A as B,k as J,fn as He,o as V,a2 as de,fo as ze,fp as ye,fq as Ie,h as ge,fr as qe,fs as Re,aJ as _e,I as X,dk as ve,ft as Ue,fu as Be,fv as Je,fw as Qe,aY as Ye,bJ as Ve,bF as Ke,fx as Ge,dA as We,en as Xe,bA as re,bU as Ze,ca as Se,cb as U,fy as et,fz as tt,fA as st,fB as at,fC as nt,fD as rt,fE as ct,fF as je,fG as lt,fH as it,fI as dt,fJ as ot}from"./index-B1KXs2zi.js";import{g as ht,M as ut}from"./MultiPage-OkwmnpSM.js";import{g as G}from"./searchSelector-CJfw-E7m.js";import{d as te}from"./capitalSelector-C2TPQAkZ.js";import{D as xt}from"./deletedTeachers-fT-pBAih.js";const pt="_empSalary_1ptrr_1",jt="_cash_1ptrr_5",mt="_changeType_1ptrr_24",Y={empSalary:pt,cash:jt,changeType:mt},yt=({additionalCosts:t,extraclassName:i,setActiveDelete:c,setChangingData:n,formatSalary:a,paymentStyle:o,setChangePaymentType:d,setChangePayment:u,changePayment:l,getCapitalType:h,onChange:p,loading:j})=>{const r=m(G);let x=s.useMemo(()=>50,[]);const[S,D]=s.useState([]),[b,_]=s.useState(1),v=s.useMemo(()=>{const C=t?.slice();return _(1),r?C.filter(k=>k.name?.toLowerCase().includes(r.toLowerCase())):C},[t,_,r]),y=S?.map((C,k)=>e.jsxs("tr",{children:[e.jsx("td",{children:k+1}),e.jsx("td",{children:C.name}),e.jsx("td",{children:a(C.price)}),e.jsx("td",{children:C.created}),e.jsx("td",{children:e.jsx("div",{onClick:()=>{d(C),u(!0)},className:o,children:C.payment})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(E,{onClick:()=>{c(!0),n({id:C.id,name:C.name})},type:"delete",children:e.jsx("i",{className:"fa fa-times",style:{color:"white"}})})})})]}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:i,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"O'chirish"})]})}),e.jsx("tbody",{children:y})]})}),e.jsxs(Z,{active:l,setActive:u,children:[e.jsx("h2",{children:"To'lov turini uzgartirish"}),e.jsx("div",{className:Y.changeType,children:e.jsx(O,{options:h,onChangeOption:p})})]}),e.jsx(K,{setCurrentTableData:D,users:v,setCurrentPage:_,currentPage:b,pageSize:x,onPageChange:C=>{_(C)},type:"custom"})]})},gt=({capitalData:t,setChangingData:i,setActiveDelete:c})=>{const n=o=>{c(!0)},a=()=>t?.map((o,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:o?.name}),e.jsx("td",{children:o?.price}),e.jsx("td",{children:o?.added_date}),e.jsx("td",{children:o.payment_type}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(E,{onClick:()=>{n({id:o.id,name:o.name}),i({id:o.id,name:o.name})},type:"delete",children:e.jsx("i",{className:"fa fa-times",style:{color:"white"}})})})})]}));return e.jsx("div",{style:{height:"calc(100vh - 47rem)",overflow:"auto"},children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"O'chirish"})]})}),e.jsx("tbody",{children:a()})]})})},_t=({studentData:t,changingData:i,setChangingData:c,onDelete:n,deleted:a,activeDelete:o,setActiveDelete:d,formatSalary:u})=>{const l=m(G);let h=s.useMemo(()=>50,[]);const[p,j]=s.useState([]),[r,x]=s.useState(1),S=s.useMemo(()=>{const v=t?.slice();return x(1),l?v.filter(f=>f?.student_name?.toLowerCase().includes(l.toLowerCase())):v},[t,x,l]),D=se(),b=v=>{d(!0)};console.log(p,"currentTableData");const _=()=>p.map((v,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsxs("td",{onClick:()=>D(`../../students/profile/${v.id}`),children:[v?.student_name," ",v?.student_surname]}),e.jsx("td",{children:u(v.payment_sum)}),e.jsx("td",{children:v.date}),e.jsx("td",{children:e.jsx("div",{style:{border:"1px solid",width:"fit-content",padding:"5px 10px",borderRadius:"15px",textTransform:"capitalize",cursor:"pointer"},children:v?.payment_type_name})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(E,{onClick:()=>{b({id:v.id,name:v?.student_name,surname:v?.student_surname}),c({id:v.id,name:v?.student_name,surname:v?.student_surname})},type:"delete",children:e.jsx("i",{className:"fa fa-times",style:{color:"white"}})})})})]}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Y.empSalary,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Ochirich"})]})}),e.jsx("tbody",{children:_()})]})}),e.jsx(K,{setCurrentTableData:j,users:S,setCurrentPage:x,currentPage:r,pageSize:h,onPageChange:v=>{x(v)},type:"custom"})]})},vt=({changingData:t,filteredSalary:i,sum2:c,formatSalary:n,onChange:a,changePayment:o,setChangePayment:d,setChangingData:u,setActiveDelete:l,activeDelete:h,getCapitalType:p})=>{const j=se(),r=m(G);let x=s.useMemo(()=>50,[]);const[S,D]=s.useState([]),[b,_]=s.useState(1),[v,f]=s.useState(null),y=s.useMemo(()=>{const g=i?.slice();return _(1),r?g.filter(A=>A?.user?.name.toLowerCase().includes(r.toLowerCase())):g},[i,_,r]),k=S.map((g,A)=>e.jsx(e.Fragment,{children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:A+1}),e.jsxs("td",{onClick:()=>j(`../../employer/employerProfile/${g?.user?.id}`),children:[g?.user?.name," ",g.user.surname]}),e.jsx("td",{children:g?.salary}),e.jsx("td",{children:g?.date}),e.jsx("td",{children:g?.user?.job?.length?g?.user?.job:"ish turi mavjud emas"}),e.jsx("td",{children:e.jsx("div",{onClick:()=>{u({id:g.id,name:g.user.name,surname:g.user.surname,payment_types:g.payment_types.name,item:g}),f({payment_types:g.payment_types}),d(!0)},className:Y.cash,children:g?.payment_types?.name})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(E,{onClick:()=>{l(!0),u({id:g.id,name:g.user.name,surname:g.user.surname,payment_types:g.payment_types.name})},type:"delete",children:e.jsx("i",{className:"fa fa-times",style:{color:"white"}})})})})]})})}));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:Y.empSalary,children:[e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"Kasb"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"O'chirish"})]})}),k]}),e.jsxs(Z,{active:o,setActive:d,children:[e.jsx("h2",{children:"To'lov turini uzgartirish"}),e.jsx("div",{className:Y.changeType,children:e.jsx(O,{options:p,onChangeOption:a})})]})]}),e.jsx(K,{setCurrentTableData:D,users:y,setCurrentPage:_,currentPage:b,pageSize:x,onPageChange:g=>{_(g)},type:"custom"})]})},St=({teacherSalary:t,onDelete:i,deleted:c,setChangePayment:n,setChangingData:a,changePayment:o,setActiveDelete:d,changingData:u,activeDelete:l})=>{t.filter(y=>!y.deleted);const h=m(G);let p=s.useMemo(()=>50,[]);const[j,r]=s.useState([]),[x,S]=s.useState(1),D=s.useMemo(()=>{const y=t?.slice();return S(1),h?y.filter(C=>C?.teacher?.user?.name?.toLowerCase().includes(h.toLowerCase())):y},[t,S,h]),b=y=>{d(!0)},_=se(),f=j?.map((y,C)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:C+1}),e.jsxs("td",{onClick:()=>_(`../../teacher/teacherProfile/${y?.teacher?.id}`,{relative:"path"}),children:[y?.teacher?.user?.name," ",y?.teacher?.user?.surname]}),e.jsx("td",{children:y?.salary}),e.jsx("td",{children:y?.comment}),e.jsx("td",{children:y?.date}),e.jsx("td",{onClick:()=>{a({id:y?.id,payment:y?.payment}),n(!0)},children:e.jsx("div",{style:{border:"1px solid",width:"fit-content",padding:"5px 10px",borderRadius:"15px",textTransform:"capitalize",cursor:"pointer"},children:y?.payment?.name})}),e.jsx("td",{children:e.jsx("div",{children:e.jsx(E,{onClick:()=>{b({id:y?.id,name:y?.teacher?.user?.name,surname:y?.teacher?.user?.surname}),a({id:y?.id,name:y?.teacher?.user?.name,surname:y?.teacher?.user?.surname})},type:"delete",children:e.jsx("i",{className:"fa fa-times",style:{color:"white"}})})})})]},y.id)}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"calc(100vh - 43rem)",overflow:"auto"},children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sabab"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"O'chirish"})]})}),f]})}),e.jsx(K,{setCurrentTableData:r,users:D,setCurrentPage:S,currentPage:x,pageSize:p,onPageChange:y=>{S(y)},type:"custom"})]})},ft=t=>t.accountingSlice?.pages,bt=t=>t.accountingSlice?.activePage,Ct=t=>t.accountingSlice?.accountingPages,Dt=t=>t.accountingSlice.encashment,Tt=t=>t.employerSlice?.employerSalary,Nt=t=>t.employerSlice?.loading,kt=t=>t.employerSlice?.deletedEmployerSalary,Pt=t=>t.studentSlice?.studentsData,At=t=>t.studentSlice?.loading,Ot=t=>t.studentSlice?.deletedStudentsPayment,wt=t=>t.overHeadSlice?.overHeadList,Et=t=>t.overHeadSlice?.overHeadDeletedLists,Lt=t=>t.overHeadSlice?.overHeadType,Mt=t=>t.overHeadSlice?.loading,fe=t=>t.overHeadSlice?.monthDay,Ft=({teacherSalary:t,formatSalary:i})=>{const n=t?.salary?.map((a,o)=>e.jsxs("tr",{children:[e.jsx("td",{children:o+1}),e.jsxs("td",{children:[a?.name," ",a?.surname]}),e.jsx("td",{children:a?.phone}),e.jsx("td",{children:a?.subject}),e.jsx("td",{children:i(a?.total_salary)}),e.jsx("td",{children:i(a?.taken_salary)}),e.jsx("td",{children:i(a?.remaining_salary)}),e.jsx("td",{children:i(a.cash)}),e.jsx("td",{children:i(a.bank)}),e.jsx("td",{children:i(a.click)})]}));return e.jsx("div",{children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Telefon numer"}),e.jsx("th",{children:"Fan"}),e.jsx("th",{children:"Umimiy oylik"}),e.jsx("th",{children:"Olingan oylik"}),e.jsx("th",{children:"Qolgan oylik"}),e.jsx("th",{children:"Cash"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Click"})]})}),e.jsx("tbody",{children:n})]})})},$t=({employerSalary:t,formatSalary:i})=>{const n=t?.salary?.map((a,o)=>e.jsxs("tr",{children:[e.jsx("td",{children:o+1}),e.jsxs("td",{children:[a?.name," ",a?.surname]}),e.jsx("td",{children:a?.phone}),e.jsx("td",{children:a?.subject}),e.jsx("td",{children:i(a?.total_salary)}),e.jsx("td",{children:i(a?.taken_salary)}),e.jsx("td",{children:i(a?.remaining_salary)}),e.jsx("td",{children:i(a.cash)}),e.jsx("td",{children:i(a.bank)}),e.jsx("td",{children:i(a.click)})]}));return e.jsx("div",{children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Telefon numer"}),e.jsx("th",{children:"Fan"}),e.jsx("th",{children:"Umimiy oylik"}),e.jsx("th",{children:"Olingan oylik"}),e.jsx("th",{children:"Qolgan oylik"}),e.jsx("th",{children:"Cash"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Click"})]})}),e.jsx("tbody",{children:n})]})})},Ht=({classes:t,extraClass:i,extraClassTable:c,format:n})=>{const o=t?.class?.map((d,u)=>e.jsxs(e.Fragment,{children:[d.students.length>=1?e.jsxs("h2",{className:i,children:[d.class_number," ",d.class_color]}):null,d?.students.map((l,h)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:h+1}),e.jsxs("td",{children:[l.name," ",l.surname]}),e.jsx("td",{children:l.phone}),e.jsx("td",{children:n(l.total_debt)}),e.jsxs("td",{children:["-",n(l.remaining_debt)]}),e.jsx("td",{children:n(l.total_dis)}),e.jsx("td",{children:n(l.total_discount)}),e.jsx("td",{children:n(l.cash)}),e.jsx("td",{children:n(l.bank)}),e.jsx("td",{children:n(l.click)})]})}))]}));return e.jsx("div",{className:c,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Tel raqami"}),e.jsx("th",{children:"Oylik qarz"}),e.jsx("th",{children:"Qolgan qarz"}),e.jsx("th",{children:"Chegirma (1-yillik)"}),e.jsx("th",{children:"Chegirma (1-martalik)"}),e.jsx("th",{children:"Cash"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Click"})]})}),o]})})},zt=({setActive:t,active:i,setActiveDel:c,activeDel:n,activePage:a})=>{const o=H(),[d,u]=s.useState(!1),[l,h]=s.useState(!1),p=j=>{o(a==="studentsPayments"?we():a==="teachersSalary"?Ee():a==="employeesSalary"?Le():a==="overhead"?Me():Fe()),c(j)};return e.jsx("div",{children:e.jsx(Z,{setActive:t,active:i,children:e.jsxs("div",{className:ne.filter,children:[e.jsx("h1",{children:"Filter"}),e.jsxs("div",{className:ne.filter__container,children:[e.jsxs("div",{className:ne.filter__switch,children:[e.jsx("p",{children:"O'chirilganlar"}),e.jsx(pe,{onChangeSwitch:p,activeSwitch:n})]}),e.jsxs("div",{className:ne.filter__switch,children:[e.jsx("p",{children:"Arxiv"}),e.jsx(pe,{})]})]})]})})})},It="_accountingMain_1ek25_1",qt="_accounting__wrapper_1ek25_8",Rt="_wrapper__filter_1ek25_13",Ut="_wrapper__middle_1ek25_17",Bt="_middle__box_1ek25_17",Jt="_typeExpenses_1ek25_37",Qt="_changeType_1ek25_54",Yt="_form_1ek25_62",Vt="_overhead_1ek25_72",Kt="_table_1ek25_77",Gt="_subHeader_1ek25_82",Wt="_subHeader__subBtn_1ek25_85",Xt="_active_1ek25_90",Zt="_typeItem_1ek25_96",P={accountingMain:It,accounting__wrapper:qt,wrapper__filter:Rt,wrapper__middle:Ut,middle__box:Bt,typeExpenses:Jt,changeType:Qt,form:Yt,overhead:Vt,table:Kt,subHeader:Gt,subHeader__subBtn:Wt,active:Xt,typeItem:Zt},es=({deletedStudent:t,formatSalary:i})=>{const c=m(G);let n=s.useMemo(()=>50,[]);const[a,o]=s.useState([]),[d,u]=s.useState(1),l=s.useMemo(()=>{const p=t?.slice();return u(1),c?p.filter(j=>j.name?.toLowerCase().includes(c.toLowerCase())):p},[t,u,c]),h=()=>a.map((p,j)=>e.jsxs("tr",{children:[e.jsx("td",{children:j+1}),e.jsxs("td",{children:[p?.student?.user?.name," ",p?.student?.user?.surname]}),e.jsx("td",{children:i(p.payment_sum)}),e.jsx("td",{children:p.added_data}),e.jsx("td",{children:e.jsx("div",{style:{border:"1px solid",width:"fit-content",padding:"5px 10px",borderRadius:"15px",textTransform:"capitalize",cursor:"pointer"},children:p?.payment_type?.name})})]}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Y.empSalary,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"})]})}),e.jsx("tbody",{children:h()})]})}),e.jsx(K,{setCurrentTableData:o,users:l,setCurrentPage:u,currentPage:d,pageSize:n,onPageChange:p=>{u(p)},type:"custom"})]})},ts=({deleted:t,setDeleted:i})=>{const{request:c}=W(),n=H(),a=m(Pt),o=m(At),[d,u]=s.useState(!1),[l,h]=s.useState({}),p=m(Ot);let j=m(L);s.useEffect(()=>{n($e(j))},[]);const r=b=>Number(b).toLocaleString(),x=p.reduce((b,_)=>b+parseFloat(_.payment_sum||0),0),S=a.reduce((b,_)=>b+parseFloat(_.payment_sum||0),0),D=()=>{const{id:b}=l;c(`${B}Students/student_payment_delete/${b}/`,"DELETE",JSON.stringify({id:b}),J()).then(_=>{n(He({id:b})),u(!1),n(V({status:!0,type:"success",msg:_.msg}))}).catch(_=>{console.log(_)})};return o?e.jsx(me,{}):e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{style:{display:"flex",gap:"2rem"}}),e.jsxs("div",{style:{color:"rgb(34, 197, 94)",fontSize:"2.2rem",textAlign:"end",marginBottom:"3rem"},children:["Total : ",r(t?x:S)]})]}),t?e.jsx(es,{formatSalary:r,deletedStudent:p}):e.jsx(_t,{formatSalary:r,studentData:a,deleted:t,setActiveDelete:u,activeDelete:d,changingData:l,setChangingData:h}),e.jsx(ae,{setActive:u,active:d,onClick:D,title:`Rostanham ${l.name} ni o'chirmoqchimisiz `,type:"danger"})]})},ss=({onClick:t,setDeleted:i,deleted:c,sum:n,formatSalary:a,sum2:o})=>e.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{style:{display:"flex",gap:"2rem"},children:e.jsx(E,{type:c?"disabled":"",onClick:c?null:t,children:"Qo'shish"})}),e.jsxs("div",{style:{color:"rgb(34, 197, 94)",fontSize:"2.2rem",textAlign:"end"},children:["Total : ",a(c?o:n)]})]}),as=({overheadDeletedList:t,extraClassName:i,paymentStyle:c})=>{const n=m(G);let a=s.useMemo(()=>50,[]);const[o,d]=s.useState([]),[u,l]=s.useState(1),h=s.useMemo(()=>{const r=t?.slice();return l(1),n?r.filter(x=>x.name?.toLowerCase().includes(n.toLowerCase())):r},[t,l,n]),j=o.map((r,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{children:r.name}),e.jsx("td",{children:r.price}),e.jsx("td",{children:r.created}),e.jsx("td",{children:e.jsx("div",{className:c,children:r.payment.name})})]}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:i,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"})]})}),e.jsx("tbody",{children:j})]})}),e.jsx(K,{setCurrentTableData:d,users:h,setCurrentPage:l,currentPage:u,pageSize:a,onPageChange:r=>{l(r)},type:"custom"})]})},ns=({deleted:t,setDeleted:i})=>{const[c,n]=s.useState(!1),a=m(Lt),o=H(),[d,u]=s.useState({}),[l,h]=s.useState(!1),{request:p}=W(),j=m(Mt),r=m(te),[x,S]=s.useState({}),{register:D,handleSubmit:b,setValue:_}=de(),v=m(fe),[f,y]=s.useState(null),[C,k]=s.useState(null),g=m(wt),[A,Q]=s.useState(!1),[z,ce]=s.useState({}),ee=m(Et),[M,q]=s.useState(!1),[R,le]=s.useState(null),oe=m(te),[he,be]=s.useState(null);let ie=m(L);s.useEffect(()=>{o(ze()),o(ye())},[]),s.useEffect(()=>{ie.id,o(Ie({activeBtn:R,branchId:ie}))},[R]),console.log(R);const Ce=()=>{n(!0)},De=T=>{S(T)},Te=T=>{u(T);const{id:F}=T;a.filter(I=>I.id===+F)[0]?.name==="Boshqa"?h(!0):h(!1)},Ne=T=>{const F={type:d.id,branch:ie.id,payment:x.id,...T};p(`${B}Overhead/overheads/create/`,"POST",JSON.stringify(F),J()).then(I=>{n(!1),_("name",""),_("price","");const Oe={created:I.created,id:I.id,name:I.name,payment:I.name,price:I.price};o(Ue(Oe)),o(V({type:"success",status:!0,msg:I.msg}))}).catch(I=>{console.log(I)})},ue=()=>{const{id:T}=z;p(`${B}Overhead/overheads/delete/${T}`,"DELETE",JSON.stringify({id:T}),J()).then(F=>{o(Re({id:T})),Q(!1),o(V({type:"success",status:!0,msg:F.msg}))}).catch(F=>{console.log(F)})},ke=T=>{const{id:F}=he;o(qe({id:F,payment:oe.filter(I=>I.id===+T)[0],changePaymentType:he}))},Pe=g?.reduce((T,F)=>T+parseFloat(F.price||0),0),Ae=ee.reduce((T,F)=>T+parseFloat(F.price||0),0),xe=T=>Number(T).toLocaleString();return e.jsxs("div",{className:P.overhead,children:[e.jsx(ss,{formatSalary:xe,sum:Pe,deleted:t,sum2:Ae,onClick:Ce,setDeleted:i}),t?e.jsx(as,{overheadDeletedList:ee,extraClassName:P.table,paymentStyle:P.typeItem}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:P.subHeader,children:a.map(T=>e.jsx(E,{extraClass:ge(P.subHeader__subBtn,{[P.active]:R===T.id}),onClick:()=>le(T.id),children:T.name}))}),e.jsx(yt,{formatSalary:xe,loading:j,onDelete:ue,changingData:z,setChangingData:ce,setActiveDelete:Q,activeDelete:A,extraclassName:P.table,additionalCosts:g,paymentStyle:P.typeItem,setChangePayment:q,changePayment:M,getCapitalType:oe,onChange:ke,setChangePaymentType:be})]}),e.jsx(rs,{showAdditionalFields:l,setActiveModal:n,activeModal:c,option:a,select:d,setSelected:u,onChange:Te,paymentType:r,register:D,handleSubmit:b,onAdd:Ne,radioSelect:x,setRadioSelect:S,onChangeRadio:De,monthDay:v,day:f,setDay:y,month:C,setMonth:k,optionDef:R}),e.jsx(ae,{setActive:Q,active:A,onClick:ue,title:`Rostanham ${z.name} ni o'chirmoqchimisiz `,type:"danger"})]})},rs=t=>{const{activeModal:i,setActiveModal:c,option:n,showAdditionalFields:a,onChange:o,paymentType:d,handleSubmit:u,onAdd:l,register:h,radioSelect:p,onChangeRadio:j,optionDef:r}=t;return e.jsx(Z,{setActive:c,active:i,children:e.jsxs(_e,{extraClassname:P.form,onSubmit:u(l),children:[e.jsx(X,{register:h,name:"created",type:"date",title:"Kun"}),e.jsx(O,{options:n,defaultValue:r,onChangeOption:x=>{o({name:x,id:x})}}),a?e.jsx(X,{name:"name",register:h,placeholder:"Narsa turi"}):null,e.jsx(X,{register:h,name:"price",type:"number",placeholder:"Narxi"}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"2rem"},children:d.map(x=>e.jsx(ve,{onChange:()=>j({name:x.name,id:x.id}),children:x.name,checked:p?.name===x.name,value:p===x.name,name:"hello"}))})]})})},cs=t=>t.capitalSlice?.capital,ls=t=>t.capitalSlice?.capitalDeleted,is="_modal_3hzh2_5",ds={modal:is},os=({setActive:t,sum2:i,sum1:c,formatSalary:n,deleted:a})=>e.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(E,{onClick:()=>t(!0),children:"Qo'shish"}),e.jsxs("div",{style:{color:"rgb(34, 197, 94)",fontSize:"2.2rem",textAlign:"end"},children:["Total : ",n(a?i:c)]})]}),hs=({setActive:t,activeModal:i,radio:c,monthDay:n,month:a,day:o,setDay:d,setMonth:u,register:l,handleSubmit:h,onAdd:p,setRadio:j,radioSelect:r})=>e.jsx(Z,{setActive:t,active:i,children:e.jsx("div",{className:ds.modal,children:e.jsxs(_e,{onSubmit:h(p),children:[e.jsx(X,{register:l,name:"added_date",type:"date"}),e.jsx(X,{register:l,name:"name"}),e.jsx(X,{register:l,name:"price",type:"number"}),e.jsx("div",{style:{display:"flex",gap:"2rem",justifyContent:"center"},children:c.map(x=>e.jsx(ve,{onChange:()=>j({name:x.name,id:x.id}),children:x.name,checked:r?.name===x.name,value:r===x.name}))}),e.jsx(O,{title:"Oy",options:n,onChangeOption:u}),e.jsx(O,{title:"sana",options:n.filter(x=>x?.value===a)[0]?.days,onChangeOption:d})]})})}),us=({deleted:t})=>{const i=()=>t.map((c,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:n+1}),e.jsx("td",{children:c?.name}),e.jsx("td",{children:c.price}),e.jsx("td",{children:c?.added_date}),e.jsx("td",{children:c.payment_type?.name})]}));return e.jsx("div",{style:{height:"calc(100vh - 47rem)",overflow:"auto"},children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"})]})}),e.jsx("tbody",{children:i()})]})})},xs=({deleted:t,setDeleted:i})=>{const c=m(cs),n=m(ls),a=H(),[o,d]=s.useState(!1),u=m(te),[l,h]=s.useState(null),[p,j]=s.useState(null),[r,x]=s.useState({}),[S,D]=s.useState({}),[b,_]=s.useState(!1),{register:v,setValue:f,handleSubmit:y}=de();let C=m(L);const k=m(fe),{request:g}=W();s.useEffect(()=>{a(Be(C)),a(ye())},[]);const A=M=>{const q={branch:C.id,payment_type:r.id,...M};g(`${B}Capital/old_capital_create/`,"POST",JSON.stringify(q),J()).then(R=>{d(!1),a(V({type:"success",status:!0,msg:R.msg}));const le={...R,payment_type:R.payment.name};a(Qe(le)),f("name",""),f("price","")}).catch(R=>{console.log(R)})},Q=M=>Number(M).toLocaleString(),z=c.reduce((M,q)=>M+parseFloat(q.price||0),0),ce=n.reduce((M,q)=>M+parseFloat(q.price||0),0),ee=()=>{const{id:M}=S;g(`${B}Capital/old_capital_delete/${M}`,"DELETE",JSON.stringify(M),J()).then(q=>{a(Je({id:M})),_(!1),a(V({type:"success",status:!0,msg:q.msg}))}).catch(q=>{console.log(q)})};return e.jsxs("div",{className:P.overhead,children:[e.jsx(os,{deleted:t,setDeleted:i,setActive:d,sum1:z,sum2:ce,formatSalary:Q}),t?e.jsx(us,{deleted:n}):e.jsx(gt,{changingData:S,activeDelete:b,setActiveDelete:_,setChangingData:D,onDelete:ee,capitalData:c}),e.jsx(hs,{radioSelect:r,setRadio:x,register:v,onAdd:A,handleSubmit:y,monthDay:k,setMonth:j,setDay:h,day:l,month:p,setActive:d,activeModal:o,radio:u}),e.jsx(ae,{setActive:_,active:b,onClick:ee,title:`Rostanham ${S.name} ni o'chirmoqchimisiz `,type:"danger"})]})},sa=()=>{let{"*":t}=Ye();const i=m(ft),c=se(),n=H(),[a,o]=s.useState(!1),[d,u]=s.useState(!1),[l,h]=s.useState(!1),[p,j]=s.useState(!1),r=m(Dt),x=m(bt),S=m(ht),D=m(Ve),{id:b}=m(L),_=Ke(),[v,f]=s.useState(!1),[y,C]=s.useState(x??i[0].value),k=m(L);s.useEffect(()=>{g(t)},[t]),s.useEffect(()=>{n(Ge({branchID:k.id})),n(We())},[]),s.useEffect(()=>{y!==x?(c(`${x}`),C(x)):_.search?c(_.search.slice(6,_.search.length)):D.length<2&&c(`${x}`)},[x,c,_.pathname,_.search,D.length]);const g=s.useCallback(z=>{n(Xe({value:z}))},[c]),A=z=>Number(z).toLocaleString();s.useEffect(()=>{S&&S!==D.length&&D.length>=2&&c("./",{relative:"path"})},[S,D.length]),m(L);const Q=s.useMemo(()=>[{name:"Students Payments",type:"studentsPayments"},{name:"Teacher Salary",type:"teachersSalary"},{name:"Employer Salary",type:"employeesSalary"},{name:"overhead",type:"overhead"},{name:"capital",type:"capital"}],[]);return e.jsxs(ut,{types:Q,page:"accounting",isMultiPage:!0,children:[e.jsxs("div",{className:P.accountingMain,children:[e.jsx("div",{className:P.accounting,children:e.jsxs("div",{className:P.accounting__wrapper,children:[e.jsxs("div",{className:P.wrapper__filter,children:[e.jsx(E,{type:"filter",status:"filter",onClick:()=>o(!a),children:"Filter"}),e.jsx(O,{defaultValue:x??i[0].value,options:i,onChangeOption:g})]}),e.jsxs("div",{className:P.wrapper__middle,children:[v?null:e.jsx("div",{className:P.middle__box,children:r?.payments?.map(z=>e.jsxs("div",{children:[z?.payment_type,": ",A(z.overall)]}))}),e.jsxs("div",{className:P.typeExpenses,children:[e.jsx(re,{to:"../inkasatsiya",children:e.jsx(E,{children:"Inkasatsiya"})}),e.jsx(re,{to:"otchot",children:e.jsx(E,{onClick:()=>f(!v),type:"filter",children:"buxgalteriya"})})]})]})]})}),e.jsx(Ze,{})]}),e.jsxs(Se,{children:[e.jsx(U,{path:"studentsPayments",element:e.jsx(ts,{deleted:d,setDeleted:u})}),e.jsx(U,{path:"teachersSalary",element:e.jsx(_s,{deleted:d,setDeleted:u,path:"teachersSalary"})}),e.jsx(U,{path:"employeesSalary",element:e.jsx(js,{deleted:d,setDeleted:u,path:"employeesSalary"})}),e.jsx(U,{path:"overhead",element:e.jsx(ns,{path:"overhead",deleted:d,setDeleted:u})}),e.jsx(U,{path:"capital",element:e.jsx(xs,{deleted:d,setDeleted:u,path:"capital"})}),e.jsx(U,{path:"otchot",element:e.jsx(Gs,{path:"otchot"})})]}),e.jsx(zt,{setActive:o,active:a,setActiveDel:u,activeDel:d,activePage:x})]})},ps=({filteredDeletedSalary:t,formatSalary:i,sum2:c,onChange:n})=>{const a=m(G);let o=s.useMemo(()=>50,[]);const[d,u]=s.useState([]),[l,h]=s.useState(1),p=s.useMemo(()=>{const r=t?.slice();return h(1),a?r.filter(x=>x.name?.toLowerCase().includes(a.toLowerCase())):r},[t,h,a]),j=()=>d?.map((r,x)=>e.jsx(e.Fragment,{children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{children:r?.user?.name}),e.jsx("td",{children:r?.salary}),e.jsx("td",{children:r?.date}),e.jsx("td",{children:r?.user?.job?.length?r?.user?.job:"ish turi mavjud emas"}),e.jsx("td",{onClick:()=>n(r.id),children:e.jsx("div",{className:Y.cash,children:r?.payment_types?.name})})]})})}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Y.empSalary,children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"Kasb"}),e.jsx("th",{children:"To'lov turi"})]})}),j()]})}),e.jsx(K,{setCurrentTableData:u,users:p,setCurrentPage:h,currentPage:l,pageSize:o,onPageChange:r=>{h(r)},type:"custom"})]})},js=s.memo(({deleted:t,setDeleted:i})=>{const c=H(),[n,a]=s.useState(!1),[o,d]=s.useState(!1),u=m(Tt),l=m(kt),h=m(Nt),{request:p}=W(),[j,r]=s.useState(!1);let x=m(L);s.useEffect(()=>{c(et(x))},[]);const[S,D]=s.useState({}),b=m(te),_=l.reduce((k,g)=>k+parseFloat(g.salary||0),0),v=u.reduce((k,g)=>k+parseFloat(g.salary||0),0),f=k=>Number(k).toLocaleString(),y=k=>{const{id:g}=S;p(`${B}Users/salaries/delete/${g}/`,"DELETE",JSON.stringify(g),J()).then(A=>{r(!j),c(st({id:g})),c(V({status:!0,msg:A.msg,type:"success"}))}).catch(A=>{console.log(A)})},C=k=>{const{id:g}=S;p(`${B}Users/salaries/update/${g}/`,"PATCH",JSON.stringify({payment_types:Number(k)}),J()).then(A=>{a(!1),c(tt({id:g,payment_types:b.filter(Q=>Q.id===+k)[0],changingData:S}))}).catch(A=>{console.log(A)})};return h?e.jsx(me,{}):e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"flex-end",marginBottom:"3rem"},children:e.jsxs("div",{style:{color:"rgb(34, 197, 94)",fontSize:"2.2rem",textAlign:"end"},children:["Total : ",f(t?_:v)]})}),t?e.jsx(ps,{filteredDeletedSalary:l,formatSalary:f}):e.jsx(vt,{changingData:S,formatSalary:f,filteredSalary:u,setChangingData:D,changePayment:n,activeDelete:j,setActiveDelete:r,setChangePayment:a,getCapitalType:b,onChange:C}),e.jsx(ae,{setActive:r,active:j,onClick:y,title:`Rostanham ${S.name} ni o'chirmoqchimisiz `,type:"danger"})]})}),ms=t=>t.teacher?.teacherSalary,ys=t=>t.teacher?.deletedSalary,gs=({deletedTeacher:t,setChangePayment:i,setChangingData:c})=>{const n=m(G);let a=s.useMemo(()=>50,[]);const[o,d]=s.useState([]),[u,l]=s.useState(1),h=s.useMemo(()=>{const j=t?.slice();return l(1),n?j.filter(r=>r.name?.toLowerCase().includes(n.toLowerCase())):j},[xt,l,n]),p=()=>o.map((j,r)=>e.jsx(e.Fragment,{children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsxs("td",{children:[j?.teacher?.user?.name," ",j?.teacher?.user?.surname]}),e.jsx("td",{children:j?.salary}),e.jsx("td",{children:j?.comment}),e.jsx("td",{children:j?.date}),e.jsx("td",{onClick:()=>{c({id:j?.id,payment_types:j?.payment_types})},children:e.jsx("div",{style:{border:"1px solid",width:"fit-content",padding:"5px 10px",borderRadius:"15px",textTransform:"capitalize",cursor:"pointer"},children:j?.payment?.name})})]},r)})}));return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("div",{style:{height:"calc(100vh - 43rem)",overflow:"auto"},children:e.jsxs($,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sabab"}),e.jsx("th",{children:"Sana"}),e.jsx("th",{children:"To'lov turi"})]})}),p()]})})}),e.jsx(K,{setCurrentTableData:d,users:h,setCurrentPage:l,currentPage:u,pageSize:a,onPageChange:j=>{l(j)},type:"custom"})]})},_s=({deleted:t,setDeleted:i})=>{const c=H(),n=m(ms),a=m(ys),[o,d]=s.useState({}),[u,l]=s.useState(!1),h=m(te),[p,j]=s.useState(!1);let r=m(L);const{request:x}=W();s.useEffect(()=>{c(at(r))},[]);const S=()=>{const{id:f}=o;x(`${B}Teachers/teachers/salary/delete/${f}/`,"DELETE",JSON.stringify({id:f}),J()).then(y=>{c(nt({id:f})),c(V({status:!0,msg:y.msg,type:"success"})),j(!1)}).catch(y=>{console.log(y)})},D=f=>Number(f).toLocaleString(),b=a.reduce((f,y)=>f+parseFloat(y.salary||0),0),_=n.reduce((f,y)=>f+parseFloat(y.salary||0),0),v=f=>{c(rt({id:o.id,payment_types:f})),l(!1)};return e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",gap:"2rem",alignItems:"center",justifyContent:"flex-end",marginBottom:"3rem"},children:e.jsxs("div",{style:{color:"rgb(34, 197, 94)",fontSize:"2.2rem",textAlign:"end"},children:["Total : ",D(t?b:_)]})}),t?e.jsx(gs,{setChangingData:d,setChangePayment:l,deletedTeacher:a}):e.jsx(St,{setChangingData:d,changePayment:u,setChangePayment:l,deleted:t,teacherSalary:n,changingData:o,activeDelete:p,setActiveDelete:j}),e.jsx(ae,{setActive:j,active:p,onClick:S,title:`Rostanham ${o.name} ni o'chirmoqchimisiz `,type:"danger"}),e.jsx(Z,{active:u,setActive:l,children:e.jsx("div",{className:P.changeType,children:e.jsx(O,{options:h,onChangeOption:v,title:"Select payment type"})})})]})},vs="_accounting_1omdx_1",Ss="_accounting__wrapper_1omdx_4",fs="_wrapper__filter_1omdx_9",bs="_wrapper__middle_1omdx_13",Cs="_typeExpenses_1omdx_33",Ds="_paymentType_1omdx_50",Ts="_select_1omdx_57",Ns="_tableHeader_1omdx_61",ks="_table_1omdx_61",Ps="_otchot__main_1omdx_75",As="_otchot_1omdx_75",N={accounting:vs,accounting__wrapper:Ss,wrapper__filter:fs,wrapper__middle:bs,typeExpenses:Cs,paymentType:Ds,select:Ts,tableHeader:Ns,table:ks,otchot__main:Ps,otchot:As},Os=t=>t.otchotAccountingSlice?.students,ws=t=>t.otchotAccountingSlice?.teacherSalary,Es=t=>t.otchotAccountingSlice?.employerSalary,Ls=t=>t.otchotAccountingSlice.all,Ms=({formatSalary:t})=>{const i=H(),c=m(L),n=m(Es),a=c.id;s.useEffect(()=>{i(ct(a))},[]);const[o,d]=s.useState(null),[u,l]=s.useState(null);return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{className:N.paymentType,children:[e.jsx(O,{extraClass:N.select,options:n.dates?.map(h=>h.year),onChangeOption:l}),u?e.jsx(O,{extraClass:N.select,options:n.dates.filter(h=>h.year===+u)[0].months,onChangeOption:d}):null]}),e.jsx($t,{formatSalary:t,employerSalary:n})]})})},Fs=({formatSalary:t})=>{const i=m(Os),[c,n]=s.useState(null),[a,o]=s.useState(null),d=H(),{register:u,handleSubmit:l}=de(),[h,p]=s.useState(null),{request:j}=W(),r=m(L);return s.useEffect(()=>{d(je(r.id)),a&&c&&j(`${B}Encashment/student_payments/?branch=${r.id}`,"POST",JSON.stringify({year:a,month:c}),J()).then(x=>{d(je(r.id)),p(x)}).catch(x=>{d(V({status:"error",type:!0,msg:"Serverda hatolik"}))})},[a,c]),e.jsxs("div",{children:[e.jsxs("div",{className:N.paymentType,children:[e.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[e.jsx(O,{register:u,extraClass:N.select,name:"year",options:i?.dates?.map(x=>x?.year),onChangeOption:o}),a?e.jsx(O,{register:u,name:"month",extraClass:N.select,options:i?.dates?.filter(x=>x.year===+a)[0]?.months,onChangeOption:n}):null]}),e.jsxs("div",{className:N.otchot__main,children:[e.jsxs("div",{className:N.otchot,children:["Umumiy qarz ",e.jsx("br",{})," ",t(h?h?.total_debt:i?.total_debt)]}),e.jsxs("div",{className:N.otchot,children:["Qolgan qarz ",e.jsx("br",{})," ",t(h?h?.reaming_debt:i?.reaming_debt)]}),e.jsxs("div",{className:N.otchot,children:["Chegirma 1-yillik ",e.jsx("br",{})," ",t(h?h?.total_dis:i?.total_dis)]}),e.jsxs("div",{className:N.otchot,children:["Chegirma 1-martalik  ",e.jsx("br",{})," ",t(h?h?.total_discount:i?.total_discount)]}),e.jsxs("div",{className:N.otchot,children:["Umumiy to'lov ",e.jsx("br",{})," ",t(h?h?.total_sum:i?.total_sum)]})]})]}),e.jsx(Ht,{format:t,extraClass:N.tableHeader,extraClassTable:N.table,classes:h||i})]})},$s=({formatSalary:t})=>{const i=H(),n=m(L).id,a=m(ws);s.useEffect(()=>{i(lt(n))},[]);const[o,d]=s.useState(null),[u,l]=s.useState(null);return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{className:N.paymentType,children:[e.jsx(O,{extraClass:N.select,options:a?.dates?.map(h=>h?.year),onChangeOption:l}),u?e.jsx(O,{extraClass:N.select,options:a.dates.filter(h=>h.year===+u)[0]?.months,onChangeOption:d}):null]}),e.jsx(Ft,{formatSalary:t,teacherSalary:a})]})})},Hs="_paymentTypes_bhdlr_1",zs="_paymentTypes__item_bhdlr_8",Is="_list_bhdlr_15",qs="_list__container_bhdlr_24",Rs="_otchot_bhdlr_28",Us="_header_bhdlr_36",Bs="_header__item_bhdlr_43",Js="_active_bhdlr_50",w={paymentTypes:Hs,paymentTypes__item:zs,list:Is,list__container:qs,otchot:Rs,header:Us,header__item:Bs,active:Js},Qs=[{name:"O'quvchilar",value:"student"},{name:"O'qituvchilar",value:"teacher"},{name:"Qo'shimcha harajatlar ",value:"overhead"},{name:"Capital",value:"capital"},{name:"Umumiy foyda",value:"total"}],Ys=({allTable:t})=>{const{request:i}=W(),c=H(),n=m(L),[a,o]=s.useState("student"),[d,u]=s.useState(null),[l,h]=s.useState(null),p=()=>{if(console.log(t?.payment_results),!(!a&&!t?.payment_results))return e.jsx(Vs,{data:t?.payment_results?.[a],activeType:a})};s.useEffect(()=>{if(l&&d){const r={year:d,month:l};i(`${B}Encashment/encashment_school/`,"POST",JSON.stringify({branch:n.id,...r}),J()).then(x=>{c(it(x)),console.log(x)})}},[n.id,d,l]);const j=r=>{u(r),h(null)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[e.jsx(O,{options:t?.dates?.map(r=>({name:r?.year,id:r?.year})),onChangeOption:j}),d&&e.jsx(O,{options:t?.dates?.filter(r=>r.year===+d)[0]?.months,onChangeOption:h,defaultValue:t?.dates?.filter(r=>r.year===+d)[0]?.months[0]})]}),e.jsx("div",{className:w.header,children:Qs.map(r=>e.jsx("div",{className:ge(w.header__item,{[w.active]:r.value===a}),onClick:()=>o(r.value),children:r.name},r.value))}),p()]})},Vs=({data:t,activeType:i})=>{const[c,n]=s.useState(null);s.useEffect(()=>{t&&(Array.isArray(t)?n("array"):n("object"))},[t]);const a=s.useCallback(d=>{if(!(!d.length>0))return d.map((u,l)=>{const h=Object.keys(u);return e.jsxs("div",{className:w.paymentTypes__item,children:[e.jsx("h3",{children:u[h[0]]}),e.jsx("p",{children:u[h[1].toLowerCase()]})]},l)})},[]),o=s.useCallback(()=>{if(!(!t&&!c))return Object.entries(t).map((d,u)=>{if(Array.isArray(d[1]))return d[1].map((l,h)=>{const p=Object.keys(l);return e.jsxs("div",{className:w.paymentTypes__item,children:[e.jsx("h3",{children:l[p[0]]}),e.jsx("p",{children:l[p[1].toLowerCase()]})]},h)})})},[t,c]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:w.paymentTypes,children:[c==="array"?a(t):null,o()]}),i==="student"?e.jsx("div",{className:w.list,children:e.jsxs("div",{className:w.list__container,children:[e.jsxs("div",{className:w.otchot,children:["Qolgan qarz ",e.jsx("br",{})," ",t?.remaining_debt]}),e.jsxs("div",{className:w.otchot,children:["Umumiy qarz ",e.jsx("br",{})," ",t?.total_debt]})]})}):i==="teacher"?e.jsx("div",{className:w.list,children:e.jsxs("div",{className:w.list__container,children:[e.jsxs("div",{className:w.otchot,children:["Umumiy oylik ",e.jsx("br",{})," ",t?.total_salary]}),e.jsxs("div",{className:w.otchot,children:["Qolgan oylik ",e.jsx("br",{})," ",t?.remaining_salary]})]})}):null]})},Ks=()=>{const t=H(),i=m(L),c=m(Ls);s.useEffect(()=>{t(dt({branchId:i.id}))},[]);const[n,a]=s.useState(null),[o,d]=s.useState(null);return e.jsx("div",{children:e.jsx(Ys,{allTable:c})})},Gs=()=>{const t=l=>Number(l).toLocaleString(),i=m(Ct),[c,n]=s.useState(!1),a=H(),{id:o}=m(L),d=se(),u=s.useCallback(l=>{a(ot({value:l})),d(`${l}`,{relative:"path"})},[d]);return e.jsxs("div",{className:N.accounting,children:[e.jsxs("div",{className:N.accounting__wrapper,children:[e.jsxs("div",{className:N.wrapper__filter,children:[e.jsx(E,{type:"filter",status:"filter",onClick:()=>n(!c),children:"Filter"}),e.jsx(O,{defaultValue:i[0]?.value,options:i,onChangeOption:u})]}),e.jsx("div",{className:N.wrapper__middle,children:e.jsxs("div",{className:N.typeExpenses,children:[e.jsx(re,{to:`../inkasatsiya/${o}`,children:e.jsx(E,{children:"Inkasatsiya"})}),e.jsx(re,{to:"../accounting",children:e.jsx(E,{type:"filter",children:"buxgalteriya"})})]})})]}),e.jsxs(Se,{children:[e.jsx(U,{path:"all",element:e.jsx(Ks,{})}),e.jsx(U,{path:"payment",element:e.jsx(Fs,{formatSalary:t})}),e.jsx(U,{path:"teacherSalary",element:e.jsx($s,{formatSalary:t})}),e.jsx(U,{path:"employerSalary",element:e.jsx(Ms,{formatSalary:t})})]})]})};export{Gs as AccountingOtchotPage,sa as AccountingPageMain,sa as AccountingPageMainIndex,js as EmployerSalaryPage,_s as TeacherSalaryPage};
