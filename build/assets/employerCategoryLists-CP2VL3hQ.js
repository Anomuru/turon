import{j as s,I as m,B as u,r as E,l as N,u as q,A as x,h as p}from"./index-Cux8sda1.js";import{M as g}from"./modal-BR27MEf1.js";import{F as f}from"./form-C3mZZqBW.js";import{u as A}from"./index.esm-DQmSsb0O.js";import{c as P,d as S}from"./employerCategory-CZ7f-KY3.js";import{o as j}from"./alertSlice-XeBTN8B3.js";const T="_categoryPlus_otsbf_1",k="_categoryModal_otsbf_17",O="_box_Main_otsbf_21",$="_box_otsbf_21",d={categoryPlus:T,categoryModal:k,box_Main:O,box:$},w=({activeCategory:a,setActiveCategory:t})=>s.jsx("div",{className:d.categoryPlus,onClick:()=>t(!a),children:s.jsx("i",{className:"fa fa-plus"})}),J=({register:a,handleSubmit:t,onClick:c,activeCategory:o,setActiveCategory:r})=>s.jsx("div",{children:s.jsx(g,{active:o,setActive:r,children:s.jsxs("div",{className:d.categoryModal,children:[s.jsx("h2",{children:"Ma’lumot qo’shish"}),s.jsxs(f,{typeSubmit:"",onSubmit:t(c),children:[s.jsx(m,{register:a,name:"name",required:!0}),s.jsx(m,{register:a,name:"salary",type:"number",required:!0}),s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsx(u,{type:"simple",children:"Qo'shish"})})]})]})})}),B=({register:a,handleSubmit:t,onClick:c,activeCategory:o,setActiveCategory:r,deleteBtn:l})=>s.jsx("div",{children:s.jsx(g,{active:o,setActive:r,children:s.jsxs("div",{className:d.categoryModal,children:[s.jsx("h2",{children:"Ma’lumot qo’shish"}),s.jsxs(f,{typeSubmit:"",children:[s.jsx(m,{register:a,name:"name",required:!0}),s.jsx(m,{register:a,name:"salary",type:"number",required:!0}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsxs(u,{onClick:t(l),type:"danger",children:["O'chirish ",s.jsx("i",{className:"fa fa-trash"})]}),s.jsx(u,{onClick:t(c),type:"simple",children:"Tastiqlash"})]})]})]})})}),Q=({salaryTypes:a,setEdit:t,edit:c})=>{const[o,r]=E.useState(!1),l=N(),{request:h}=q(),{register:b,handleSubmit:C,setValue:i}=A(),_=e=>{const n=c.id,M={id:n,...e};h(`${x}Teachers/salary-types/${n}/`,"PATCH",JSON.stringify(M),p()).then(y=>{l(j({status:!0,type:"success",msg:y.msg})),l(P(y)),r(!o),i("name",""),i("salary","")}).catch(y=>{console.log(y)})},v=()=>{const e=c.id;h(`${x}Teachers/salary-types/${e}/`,"DELETE",null,p()).then(n=>{console.log(n),l(S({id:e})),l(j({status:!0,type:"success",msg:n.msg})),r(!o),i("name",""),i("salary","")}).catch(n=>{console.log(n)})};return s.jsxs("div",{className:d.box_Main,children:[a?.map(e=>s.jsxs("div",{className:d.box,onClick:()=>{t({id:e.id,name:e.name}),r(!o),i("name",e.name),i("salary",e.salary)},children:[s.jsxs("p",{children:["Nomi : ",e.name]}),s.jsxs("span",{children:["Oyligi : ",e.salary]})]})),s.jsx(B,{deleteBtn:v,onClick:_,activeCategory:o,setActiveCategory:r,register:b,handleSubmit:C})]})};export{J as C,w as E,Q as a,B as b};
