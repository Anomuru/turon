import{r as c,k,n as C,j as a,T as F,D as A,a as d,u as n,A as l,h as x,b as E,c as D}from"./index-Cux8sda1.js";import{f as o,a as i,b as u}from"./teacherThunk-qU_2Y3xX.js";const L="_teacher_14tdi_1",N="_teacher__language_14tdi_54",f={teacher:L,teacher__language:N},V=r=>r.teachers.teachersData,X=r=>r.teachers.deletedTeachers,R=r=>r.teachers.loading,v=r=>r.teachers.teachersDataWithFilter,Z=c.memo(({data:r,setSelect:e,select:s,theme:p,onClick:H,setActiveDelete:y,setActiveModal:_})=>{const b=k(),[U,G]=c.useState(!1),[M,J]=c.useState(),I=C(R),h=C(v),[O,Y]=c.useState(!1),P=I?a.jsx(A,{}):(h&&h.length>0?h:r)?.map((t,S)=>{if(typeof t=="object"&&!Array.isArray(t))return a.jsxs("tr",{children:[a.jsx("td",{children:S+1}),a.jsxs("td",{onClick:()=>b(`teacherProfile/${t.id}`),children:[t?.name," ",t?.surname]}),a.jsx("td",{children:t?.username}),a.jsx("td",{children:t?.phone}),a.jsx("td",{children:t?.age}),a.jsx("td",{children:a.jsx("div",{className:t?.subject?.length?f.teacher__language:null,children:t?.subject?.map($=>a.jsx("p",{children:$?.name}))})}),t.status?a.jsx("td",{children:a.jsx("i",{onClick:()=>{y(t),_(!0)},className:"fa fa-times",style:{color:"red"}})}):null]},S)});return a.jsx(a.Fragment,{children:a.jsx("div",{className:f.teacher,children:a.jsx("div",{className:f.table,children:a.jsxs(F,{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"No"}),a.jsx("th",{children:"Full name"}),a.jsx("th",{children:"Username"}),a.jsx("th",{children:"Tel"}),a.jsx("th",{children:"Yosh"}),a.jsx("th",{children:"Fan"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:P})]})})})})}),g=d("teacherParseSlice/fetchTeacherId",async r=>{const{request:e}=n();return await e(`${l}Teachers/teachers/${r}/`,"GET",null,x())}),T=d("teacherEditSlice/editTeacherThunk",async({id:r,updateTeacher:e})=>{const{request:s}=n();return await s(`${l}Teachers/teachers/update/${r}/`,"PATCH",JSON.stringify(e),x())});d("teacherParseSlice/changeTeacherProfileImage",async({id:r,data:e})=>{const s=new FormData;s.append("profile_img",e);const{request:p}=n();return p(`${l}Users/users/update/${r}/`,"PATCH",s,E())});const j=d("teacherEditSlice/fetchDropStudents",async({id:r})=>{const{request:e}=n();return await e(`${l}Teachers/group-student/${r}/`,"GET",null,x())}),W={teachersData:[],teacherStatus:"idle",deletedTeachers:[],teachersDataWithFilter:[],loading:!1},m=D({name:"teachersSlice",initialState:W,reducers:{onDelete:(r,e)=>{console.log(e.payload,"hello"),r.teachersData=r.teachersData.filter(s=>s.id!==+e.payload)}},extraReducers:r=>{r.addCase(o.pending,e=>{e.loading=!0}).addCase(o.fulfilled,(e,s)=>{e.teachersData=s.payload,e.loading=!1}).addCase(o.rejected,(e,s)=>{e.error="error"}).addCase(i.pending,e=>{e.loading=!0,e.error=!1}).addCase(i.fulfilled,(e,s)=>{e.deletedTeachers=s.payload,e.loading=!1,e.error=!1}).addCase(i.rejected,e=>{e.loading=!1,e.error=!0}).addCase(u.pending,e=>{e.loading=!0}).addCase(u.fulfilled,(e,s)=>{e.teachersDataWithFilter=s.payload,e.loading=!1}).addCase(u.rejected,(e,s)=>{e.error="error"})}}),{onDelete:ee}=m.actions,ae=m.reducer,q={teacherId:[],students:[],studentsLoading:!1,loading:!1,error:null},w=D({name:"teacherParseSlice",initialState:q,reducers:{},extraReducers:r=>{r.addCase(g.pending,e=>{e.fetchTeacherStatus="loading"}).addCase(g.fulfilled,(e,s)=>{e.fetchTeacherStatus="success",e.teacherId=s.payload}).addCase(g.rejected,e=>{e.fetchTeacherStatus="error"}).addCase(T.pending,e=>{e.loading=!0,e.error=null}).addCase(T.fulfilled,(e,s)=>{e.loading=!1,e.teacherId={...e.teacherId,...s.payload}}).addCase(T.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message}).addCase(j.pending,e=>{e.studentsLoading=!0,e.error=null}).addCase(j.fulfilled,(e,s)=>{e.students=s.payload,e.studentsLoading=!1,e.error=null}).addCase(j.rejected,e=>{e.studentsLoading=!1,e.error="error"})}}),re=w.reducer;export{Z as T,R as a,v as b,re as c,X as d,T as e,g as f,V as g,j as h,ee as o,ae as t};
