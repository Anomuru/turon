import{k as L,P as N,r as c,Q as w,n as r,x as I,z as g,K as p,U as y,o as M,l as x,j as s,N as T,M as C,V as S,y as E,W as U,X as $,Y as B,Z as P,_ as D,$ as O,a0 as R}from"./index-Cux8sda1.js";import{L as q}from"./link-B95gzaLk.js";import{f as F}from"./userProfileSlice-BflEK4KO.js";import{c as K,b as V,g as W}from"./index-B-IQsIPc.js";import{d as z}from"./user_image-CruVt77w.js";import{Alert as A}from"./index-BlApgVji.js";import"./alertSlice-XeBTN8B3.js";import"./form-C3mZZqBW.js";import"./modal-BR27MEf1.js";import"./cross-BXlnQeE0.js";import"./Transition-CosWKtpf.js";const e={director:"director",admin:"admin",programmer:"programmer",smm:"smm",accountant:"accountant",operator:"operator"},G=[{to:"register",name:"Registratsiya",icon:"fa-edit",system:["center","school"],roles:!0},{to:"taskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.operator]},{to:"adminTaskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.admin]},{to:"calendar",name:"Kalendar",icon:"fas fa-calendar-times",system:["school"],roles:[e.director,e.admin]},{to:"students",name:"O'quvchilar",icon:"fa-user-graduate",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"groups",name:"Guruhlar",icon:"fa-users",system:["center"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"groups",name:"Sinflar",icon:"fa-users",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"teacher",name:"O'qituvchilar",icon:"fa-user-tie",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"vacancyPage",name:"Vakansiyalar",icon:"fa-tasks",system:["center","school"],roles:[e.director,e.programmer],branches:!0},{to:"timeList",name:"Time List",icon:"fa-clock",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"time",name:"Time Table",icon:"fa-clock",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"employer",name:"Employers",icon:"fa-user-graduate",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"flows",name:"Flows",icon:"fa-user-graduate",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"class",name:"Class",icon:"fa-user-graduate",system:["school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"contract",name:"Contract",icon:"fa-file-contract",system:["center","school"],roles:[e.admin,e.director,e.programmer]},{to:"capital",name:"Capital",icon:"fa-book",system:["center","school"],roles:[e.admin,e.director,e.programmer,e.accountant],branches:!0},{to:"accounting",name:"Buxgalteriya ",icon:"fa-calculator",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0,multi:!0},{to:"rooms",name:"Honalar",icon:"fa-door-closed",system:["center","school"],roles:[e.admin,e.director,e.programmer],branches:!0},{to:"../../",name:"Web-Sayt",system:["center","school"],roles:[e.smm]},{to:"adminTaskManager",name:"Task Manager",icon:"fa-tasks",system:["center","school"],roles:[e.admin]}],H="_menu_d660w_1",Q="_menu__user_d660w_12",X="_userImage_d660w_22",Y="_userInfo_d660w_27",Z="_menu__inner_d660w_33",J="_link_d660w_57",ee="_active_d660w_63",se="_link__href_d660w_71",re="_link__title_d660w_82",ae="_menu__footer_d660w_86",ne="_menu__exit_d660w_103",a={menu:H,menu__user:Q,userImage:X,userInfo:Y,menu__inner:Z,link:J,active:ee,link__href:se,link__title:re,menu__footer:ae,menu__exit:ne},te=()=>{const i=L(),{pathname:_}=N(),{theme:l}=c.useContext(w);r(I),r(K);const t=r(V);r(W);const m=r(g),o=r(p),u=r(y),h=r(M),k=x(),j=()=>{i("/login"),k(S())},b=c.useCallback(()=>G.map((n,v)=>{if(u?.length>1&&!n.multi||u?.length>1&&n.multi||`${h?.id}`,!(u>1&&!n.branches)&&n?.system.includes(o.name)&&(typeof n.roles=="object"&&t?.job.some(d=>n.roles.includes(d))||typeof n.roles=="boolean"&&n.roles))return s.jsx(T,{to:n.to,className:({isActive:d})=>d?`${a.link} ${a.active}`:`${a.link}`,children:s.jsxs("span",{className:a.link__href,children:[s.jsx("i",{className:`fas ${n.icon} icon-link`}),s.jsx("span",{className:a.link__title,children:n.name})]})},v)}),[l,u,h,t])();return s.jsxs("nav",{className:a.menu,children:[s.jsxs("div",{className:a.menu__user,children:[s.jsx(q,{to:`profile/${m}`,children:s.jsx("img",{className:a.userImage,src:t?.profile_img??z,alt:""})}),s.jsxs("div",{className:a.userInfo,children:[s.jsx("h3",{children:t?.username}),s.jsx("p",{children:t?.job[0]})]})]}),s.jsx("ul",{className:a.menu__inner,children:t?.job?b:s.jsx(C,{})}),s.jsx("div",{className:a.menu__footer,children:s.jsxs("div",{className:a.menu__exit,onClick:j,children:[s.jsx("i",{className:"fas fa-sign-out-alt"}),s.jsx("h2",{children:"Chiqish"})]})})]})},oe="_main_1vxf6_1",ce="_main__content_1vxf6_7",f={main:oe,main__content:ce},ke=()=>{const i=r(g),_=r(E),l=r(U),t=r(y);r($);const m=r(p),o=x();return c.useEffect(()=>{i&&o(F(i))},[i,_]),c.useEffect(()=>{l||o(B())},[l]),c.useEffect(()=>{m.id&&o(P(m.id))},[m.id]),c.useEffect(()=>{t[0]?.id?o(D(t[0].id)):o(O())},[t[0]?.id]),s.jsxs(s.Fragment,{children:[s.jsx(A,{}),s.jsx(te,{}),s.jsx("main",{className:f.main,children:s.jsx("div",{className:f.main__content,children:s.jsx(R,{})})})]})};export{ke as Layout};
