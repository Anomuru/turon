import{a as i,u as n,A as c,h as t,c as g}from"./index-Cux8sda1.js";const l=i("vacancyWorkPageSlice/fetchWorkerWithId",async r=>{const{request:e}=n();return await e(`${c}Permissions/job_profile/${r}`,"GET",null,t())}),k=i("vacancyWorkerPermissionSlice/fetchPermissionTable",async()=>{const{request:r}=n();return await r(`${c}Permissions/tables/`,"GET",null,t())}),W=i("vacancyWorkerPermissionSlice/postSelectedTable",async(r,{rejectWithValue:e})=>{const{request:s}=n();try{return await s(`${c}Permissions/tables/`,"POST",JSON.stringify({table:r}),t())}catch(a){return e(a.message)}});i("vacancyWorkerPermissionSlice/postSelectedTable",async r=>{const{request:e}=n();return await e(`${c}Permissions/job_profile/${r}`,"POST",JSON.stringify({permissions:{id:r}}),t())});const m=i("vacancyWorkerPermissionSlice/postSelectedPermission",async({id:r,selectedTable:e,selectedPermissions:s,selectedJobID:a})=>{const{request:d}=n();return await d(`${c}Permissions/job_profile/${r}`,"POST",JSON.stringify({job_id:a,permissions:s}),t())}),u={workerPermission:[],loading:!1,error:null},P=g({name:"vacancyWorkPageSlice",initialState:u,reducers:{},extraReducers:r=>{r.addCase(l.pending,e=>{e.loading=!0}).addCase(l.fulfilled,(e,s)=>{e.loading=!1,e.workerPermission=s.payload}).addCase(l.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message}).addCase(m.pending,e=>{e.loading=!0}).addCase(m.fulfilled,(e,s)=>{e.loading=!1;const a=s.payload.permissions,d=e.workerPermission.job.map(o=>o.id===s.meta.arg.selectedJobID?{...o,group:{...o.group,permissions:[...o.group.permissions,...a]}}:o);e.workerPermission={...e.workerPermission,job:d}}).addCase(m.rejected,(e,s)=>{e.loading=!1,e.error=s.error.message})}}),p=P.reducer,S=r=>r.vacancyWorkPageSlice?.workerPermission,y=r=>r.vacancyWorkPageSlice?.loading,b=Object.freeze(Object.defineProperty({__proto__:null,fetchWorkerWithId:l,getWorkerId:S,getWorkerLoading:y,vacancyWorkPageSlice:p},Symbol.toStringTag,{value:"Module"}));export{y as a,k as b,m as c,l as f,S as g,b as i,W as p};
