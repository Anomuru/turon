import{R as E,r as n,l as H,n as A,j as s,p,I as w,a as k,u as M,A as Y,h as q,c as J}from"./index-Cux8sda1.js";import"./index-CO9axSa1.js";import{i as U,m as $,o as z,f as G}from"./oftenUsedSelector-B4R2CTqR.js";import{M as K}from"./modal-BR27MEf1.js";import{S as P}from"./switch-sjHY-EbU.js";import"./index-Dyh4sQR2.js";import{h as Q,d as y,c as W}from"./studentsSlice-JQcNq_2O.js";import"./alertSlice-XeBTN8B3.js";import"./studentsSelector-TVQxHXsm.js";import"./pagination-Cj0p_t2O.js";import"./workerSelect-N9ju4zO7.js";import"./teacherParseSlice-z7KSx3F7.js";import"./teacherThunk-qU_2Y3xX.js";import"./filterRoomsSlice-ClpK4_Fa.js";import"./form-C3mZZqBW.js";import"./textArea-1604NtUh.js";import"./editableCard-BNSd-vHU.js";import{c as a}from"./filters.module-C8GjSCwu.js";import"./cross-BXlnQeE0.js";import"./user_image-CruVt77w.js";import"./index.esm-DQmSsb0O.js";import"./userProfileSlice-BflEK4KO.js";import"./index-B-IQsIPc.js";import"./confirmModal-DiNALKc8.js";import"./groupsAttendanceSlice-DmRNDpcI.js";import"./roomsSelectors-Dutms6Wd.js";import"./Transition-CosWKtpf.js";import"./room_image-CsXp1EfD.js";const be=E.memo(({active:i,setActive:t,activePage:l,setIsFilter:ee,branchId:S})=>{const[d,g]=n.useState(""),[u,h]=n.useState(""),[o,D]=n.useState("all"),[c,F]=n.useState("all"),[I,N]=n.useState("all"),[j,b]=n.useState(!1),r=H(),O=A(U),T=A($);function m(e,x,_,C){r(l==="studying_students"?W({subjId:_,langId:C,fromAge:e,untilAge:x}):y({subjId:_,langId:C,fromAge:e,untilAge:x}))}const L=e=>{e!==o&&(D(e),m(d,u,e,c))},v=e=>{e!==c&&(F(e),m(d,u,o,e))},B=e=>{g(e.target.value),m(e.target.value,u,o,c)},R=e=>{h(e.target.value),m(d,e.target.value,o,c)},V=()=>{const e=!j;b(e),r(e?Q(S):y({userBranchId:S}))};return n.useEffect(()=>{r(z()),r(G())},[r]),s.jsx(K,{active:i,setActive:t,children:s.jsxs("div",{className:a.filter,children:[s.jsx("h1",{children:"Filter"}),s.jsxs("div",{className:a.filter__container,children:[l!=="deleted"?s.jsx(p,{title:"Fan",options:[{name:"Hamma",id:"all"},...T],extraClass:a.filter__select,onChangeOption:e=>L(e),defaultValue:o}):null,l==="deleted"?s.jsx(p,{title:"Sinf",extraClass:a.filter__select,onChangeOption:N,defaultValue:I}):null,s.jsxs("div",{className:a.filter__age,children:[s.jsx(w,{type:"number",extraClassName:a.filter__input,placeholder:"Yosh (От)",onChange:e=>g(e.target.value),onBlur:B,defaultValue:d}),s.jsx(w,{type:"number",extraClassName:a.filter__input,placeholder:"Yosh (До)",onChange:e=>h(e.target.value),onBlur:R,defaultValue:u})]}),s.jsx(p,{title:"Til",options:[{name:"Hamma",id:"all"},...O],extraClass:a.filter__select,onChangeOption:e=>v(e),defaultValue:c}),s.jsxs("div",{className:a.filter__switch,children:[s.jsx("p",{children:"O’chirilgan"}),s.jsx(P,{onChangeSwitch:V,activeSwitch:j})]})]})]})})}),f=k("filterStudents/fetchFilteredStudents",async i=>{const{request:t}=M();return await t(`${Y}`,"POST",JSON.stringify(i),q())}),X={students:null,loading:!1,error:null},Z=J({name:"filterStudents",initialState:X,reducers:{},extraReducers:i=>i.addCase(f.pending,t=>{t.loading=!0,t.error=null}).addCase(f.fulfilled,(t,l)=>{t.students=l.payload,t.loading=!1,t.error=null}).addCase(f.rejected,(t,l)=>{t.loading=!1,t.error=l.payload??null})}),Oe=Z.reducer;export{be as StudentsFilter,Oe as filteredStudentsSlice};
