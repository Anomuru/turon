import{f as k,n as i,l as H,o as U,r as t,j as e,B as _,u as z,A as O,h as R}from"./index-Cux8sda1.js";import{TeacherFilter as $}from"./index-t_Pq9_M-.js";import{P as V}from"./pagination-Cj0p_t2O.js";import{getSearchValue as W}from"./index-Dvh1lTlU.js";import{D as G}from"./deletedTeachers-DtncJndw.js";import{a as v,g as J,d as K,b as Q,T as X,o as Y}from"./teacherParseSlice-z7KSx3F7.js";import{f as Z}from"./teacherThunk-qU_2Y3xX.js";import{M as ee}from"./MultiPage-CgDPt1S_.js";import{o as S}from"./alertSlice-XeBTN8B3.js";import{C as te}from"./confirmModal-DiNALKc8.js";import"./employerCategory-CZ7f-KY3.js";import"./modal-BR27MEf1.js";import"./form-C3mZZqBW.js";import"./index-SfBxuIQh.js";import{E as se}from"./employerCategoryPage-BPHMVXML.js";import"./switch-sjHY-EbU.js";import"./index-CO9axSa1.js";import"./oftenUsedSelector-B4R2CTqR.js";import"./filters.module-C8GjSCwu.js";import"./link-B95gzaLk.js";import"./multiPageSlice-CecU3CKU.js";import"./index-sxu4Z6A5.js";import"./cross-BXlnQeE0.js";import"./vacancyPageParseSlice-DZBjzMqT.js";import"./index-B3t1prr3.js";import"./employerCategoryLists-CP2VL3hQ.js";import"./index.esm-DQmSsb0O.js";const ae="_teacher_5jqb1_1",re="_teacher__filter_5jqb1_14",oe="_header_btn_5jqb1_18",ce="_table_5jqb1_21",ie="_category_5jqb1_33",le="_categoryItem_5jqb1_37",o={teacher:ae,teacher__filter:re,header_btn:oe,table:ce,category:ie,categoryItem:le},He=()=>{const{theme:D}=k();i(v);const r=i(W),C=i(J),j=i(K),u=i(Q),l=H(),{id:L}=i(U),f=L;t.useEffect(()=>{f&&l(Z({userBranchId:f}))},[l,f]);let n=t.useMemo(()=>30,[]);const[ne,w]=t.useState([]),[m,c]=t.useState(1),[me,he]=t.useState(),[x,T]=t.useState(),[d,A]=t.useState(!1),[P,q]=t.useState({}),[h,E]=t.useState(!1),[M,g]=t.useState(!1),[p,I]=t.useState(!1),{request:F}=z(),y=t.useMemo(()=>{const a=p?u.slice():C.slice();return c(1),r?a.filter(s=>s?.name?.toLowerCase().includes(r.toLowerCase())||s?.surname?.toLowerCase().includes(r.toLowerCase())):a},[C,u,c,r,p]),b=t.useMemo(()=>{const a=p?u.slice():j.slice();return c(1),r?a.filter(s=>s?.name?.toLowerCase().includes(r.toLowerCase())||s?.surname?.toLowerCase().includes(r.toLowerCase())):a},[j,u,c,r,p]),B=[{name:"O'qituvchilar",type:"teachers"}],N=()=>{const a=P.id;F(`${O}Teachers/teachers/delete/${a}/`,"DELETE",null,R()).then(s=>{s.status&&l(Y(a)),l(S({type:s.status?"success":"danger",status:!0,msg:s.msg})),g(!1)}).catch(s=>{l(S({type:"danger",status:!0,msg:s.msg}))})};return e.jsxs(ee,{types:B,page:"teachers",children:[e.jsxs("div",{className:o.teacher,children:[e.jsxs("div",{className:o.teacher__filter,children:[h?null:e.jsx(_,{status:"filter",extraClass:o.extraCutClassFilter,onClick:()=>T(!x),type:"filter",children:"Filter"}),e.jsxs("div",{className:o.header_btn,children:[h?null:e.jsx(_,{type:"login",status:"timeTable",children:"time table"}),e.jsx(_,{extraClass:o.category,type:"simple",onClick:()=>E(!h),children:"Toifa"})]})]}),e.jsxs("div",{className:o.table,children:[e.jsx("h2",{children:h?"Toifa ":d?"Deleted Teachers":"Teachers"}),h?e.jsx(se,{extraClass:o.categoryItem}):d?e.jsx(G,{data:b.slice((m-1)*n,m*n)}):e.jsx(X,{setActiveDelete:q,setActiveModal:g,theme:D==="app_school_theme",loading:v,data:y.slice((m-1)*n,m*n)})]}),e.jsx(V,{setCurrentTableData:w,users:d?b:y,search:r,setCurrentPage:c,currentPage:m,pageSize:n,onPageChange:a=>{c(a)},type:"custom"}),e.jsx($,{setIsFilter:I,activeSwitch:d,setActiveSwitch:A,setActive:T,active:x})]}),e.jsx(te,{setActive:g,active:M,onClick:N,type:"danger"})]})};export{He as TeachersPage};
