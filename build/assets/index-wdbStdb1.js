import{a as h,u as _,A as g,h as S,b as A,c as R,l as j,m as y,n as v,r as i,j as s}from"./index-Cux8sda1.js";import{M as w}from"./modal-BR27MEf1.js";const d=h("roomImageSlice/fetchRoomImages",async o=>{const{request:e}=_();return(await e(`${g}Rooms/rooms_image/${o}/`,"GET",null,S())).roomimages}),N=h("rooms/uploadRoomImage",async({roomId:o,imageFile:e})=>{const{request:a}=_(),r=new FormData;r.append("image",e),r.append("room",o);const t=await a(`${g}Rooms/rooms_image_create/`,"POST",r,A());return{roomId:o,imageUrl:t.imageUrl}}),C={roomImageData:[],roomsStatus:"idle",error:null},D=R({name:"roomImageSlice",initialState:C,reducers:{},extraReducers:o=>{o.addCase(d.pending,e=>{e.roomsStatus="loading"}).addCase(d.fulfilled,(e,a)=>{e.roomsStatus="success",e.roomImageData=a.payload}).addCase(d.rejected,e=>{e.roomsStatus="error",e.error="Failed to fetch room images"}).addCase(N.fulfilled,(e,a)=>{e.roomImageData.push(a.payload)})}}),P=D.reducer,$="_filter_1fxm3_1",k="_roomImages_1fxm3_55",B="_carouselBox_1fxm3_62",E="_arounder_1fxm3_71",M="_leftArrow_1fxm3_78",T="_rightArrow_1fxm3_90",c={filter:$,roomImages:k,carouselBox:B,arounder:E,leftArrow:M,rightArrow:T},b=o=>o.roomImageSlice.roomImageData,U=({isOpen:o,onClose:e})=>{const a=j(),{id:r}=y(),t=v(b),p=`${g}media/`,[n,u]=i.useState(0),l=i.useRef(null);i.useEffect(()=>{r&&a(d(r))},[a,r]),i.useEffect(()=>{l.current&&(l.current.style.transition="transform 0.5s ease-in-out",l.current.style.transform=`translateX(${n*-560}px)`)},[n,t]);const f=m=>{m>=t.length?u(0):m<0?u(t.length-1):u(m)},x=()=>{f(n+1)},I=()=>{f(n-1)};return s.jsx(w,{active:o,setActive:e,children:s.jsxs("div",{className:c.filter,children:[s.jsx("span",{className:c.leftArrow,onClick:I,children:s.jsx("i",{className:"fa-solid fa-chevron-left"})}),s.jsx("div",{className:c.carouselBox,children:s.jsx("div",{className:c.arounder,ref:l,children:Array.isArray(t)?t.map(m=>s.jsx("img",{className:c.roomImages,src:`${p}${m.image}`,alt:"Room"},m.id)):s.jsx("div",{children:"No images found"})})}),s.jsx("span",{className:c.rightArrow,onClick:x,children:s.jsx("i",{className:"fa-solid fa-chevron-right"})})]})})},F=Object.freeze(Object.defineProperty({__proto__:null,RoomImageParseModal:U,roomImageSlice:P},Symbol.toStringTag,{value:"Module"}));export{U as R,d as f,b as g,F as i};
