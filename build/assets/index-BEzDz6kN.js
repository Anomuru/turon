import{a as g,u as p,A as m,h as S,l as _,n as u,o as b,r as c,j as e,T as y,c as C}from"./index-Cux8sda1.js";import{P}from"./pagination-Cj0p_t2O.js";const D="_list_17uka_1",F="_count_17uka_5",x={list:D,count:F},n=g("filteredLeadsListSlice/fetchFilteredListData",async({date:t,branch:s,currentPage:a,PageSize:d})=>{const{request:i}=p();return i(`${m}Lead/leads_by_branch/?date=${t}&branch_id=${s}&current_page=${a}&page_size=${d}`,"GET",null,S())}),T=t=>t.filteredLeadsListSlice.data,$=t=>t.filteredLeadsListSlice.count,N=({date:t})=>{const s=_(),a=u(b),[d,i]=c.useState([]),[l,h]=c.useState(1);let o=c.useMemo(()=>50,[]);c.useEffect(()=>{t&&a&&s(n({date:t,branch:a.id,currentPage:l,PageSize:o}))},[t,a.id,l,o]);const f=u(T),j=u($);return e.jsxs("div",{className:x.list,children:[e.jsx("h1",{className:x.count,children:j}),e.jsxs(y,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"â„–"}),e.jsx("th",{children:"Ism"}),e.jsx("th",{children:"Familya"}),e.jsx("th",{children:"Nomer"})]})}),e.jsx("tbody",{children:d?.map((r,L)=>e.jsxs("tr",{children:[e.jsx("td",{children:L+1}),e.jsx("td",{children:r?.name}),e.jsx("td",{children:r?.surname}),e.jsx("td",{children:r?.phone})]},L+1))})]}),e.jsx(P,{setCurrentTableData:i,users:f||[],setCurrentPage:h,currentPage:l,pageSize:o,onPageChange:r=>{h(r)},type:"custom"})]})},E={data:[],count:0,loading:!1,error:null},k=C({name:"filteredLeadsListSlice",initialState:E,reducers:{},extraReducers:t=>{t.addCase(n.pending,s=>{s.loading=!0}).addCase(n.fulfilled,(s,a)=>{s.loading=!1,s.data=a.payload.data,s.count=a.payload.lead_count}).addCase(n.rejected,s=>{s.loading=!1,s.error="error"})}}),R=k.reducer;export{N as FilteredLeadsList,n as fetchFilteredListData,R as filteredLeadsListSlice,T as getFilteredLeadsListData};
