import{a as v,u as O,A as R,h as w,c as B,R as V,l as H,n as y,r as d,j as l,p as S,I as x}from"./index-Cux8sda1.js";import{f as M}from"./vacancyPageParseSlice-DZBjzMqT.js";import{g as P}from"./index-B3t1prr3.js";import{M as Y}from"./modal-BR27MEf1.js";import"./alertSlice-XeBTN8B3.js";import{a as k}from"./employerCategory-CZ7f-KY3.js";import"./form-C3mZZqBW.js";import"./index-CO9axSa1.js";import{i as q,f as U}from"./oftenUsedSelector-B4R2CTqR.js";import{S as W}from"./switch-sjHY-EbU.js";import{c as r}from"./filters.module-C8GjSCwu.js";import"./cross-BXlnQeE0.js";const p=v("filterEmployees/fetchFilteredEmployees",async t=>{const{request:a}=O();return await a(`${R}`,"POST",JSON.stringify(t),w())}),$={employees:null,ageTo:null,ageFrom:null,jobId:null,languageId:null,isDelete:!1,loading:!1,error:null},j=B({name:"filterEmployees",initialState:$,reducers:{fetchAgeTo:(t,a)=>{t.ageTo=a.payload},fetchAgeFrom:(t,a)=>{t.ageFrom=a.payload},fetchAgeJobId:(t,a)=>{t.jobId=a.payload},fetchLanguageId:(t,a)=>{t.languageId=a.payload},fetchIsDelete:(t,a)=>{t.isDelete=a.payload}},extraReducers:t=>t.addCase(p.pending,a=>{a.loading=!0,a.error=null}).addCase(p.fulfilled,(a,n)=>{a.employees=n.payload,a.loading=!1,a.error=null}).addCase(p.rejected,(a,n)=>{a.loading=!1,a.error=n.payload??null})}),de=j.reducer,{fetchAgeTo:z,fetchAgeFrom:G,fetchAgeJobId:K,fetchLanguageId:Q,fetchIsDelete:ge}=j.actions,me=V.memo(({active:t,setActive:a,activeSwitch:n,setActiveSwitch:I})=>{const o=H(),A=y(q),[g,f]=d.useState(""),[m,h]=d.useState(""),[c,_]=d.useState("all"),[i,E]=d.useState("all"),b=y(P);function u(e,s,J,N){o(k({jobId:e,langId:s,fromAgeId:J,untilageId:N}))}const C=b?.map(e=>({id:e.group.id,name:e.group.name}))||[],F=e=>{e!==c&&(_(e),o(K(e)),u(e,i,g,m))},D=e=>{e!==i&&(E(e),o(Q(e)),u(c,e,g,m))},T=e=>{const s=e.target.value;f(s),o(G(s)),u(c,i,s,m)},L=e=>{const s=e.target.value;h(s),o(z(s)),u(c,i,g,s)};return d.useEffect(()=>{o(M()),o(U())},[o]),l.jsx(Y,{active:t,setActive:a,children:l.jsxs("div",{className:r.filter,children:[l.jsx("h1",{children:"Filter"}),l.jsxs("div",{className:r.filter__container,children:[l.jsx(S,{title:"Ish",options:[{name:"Hamma",id:"all"},...C],extraClass:r.filter__select,onChangeOption:F,defaultValue:c}),l.jsxs("div",{className:r.filter__age,children:[l.jsx(x,{type:"number",extraClassName:r.filter__input,placeholder:"Yosh (От)",value:g,onChange:e=>f(e.target.value),onBlur:T}),l.jsx(x,{type:"number",extraClassName:r.filter__input,placeholder:"Yosh (До)",value:m,onChange:e=>h(e.target.value),onBlur:L})]}),l.jsx(S,{title:"Til",options:[{name:"Hamma",id:"all"},...A],extraClass:r.filter__select,onChangeOption:D,defaultValue:i}),l.jsxs("div",{className:r.filter__switch,children:[l.jsx("p",{children:"O’chirilgan"}),l.jsx(W,{activeSwitch:n,onChangeSwitch:()=>I(e=>!e)})]})]})]})})});export{me as EmployeesFilter,G as fetchAgeFrom,K as fetchAgeJobId,z as fetchAgeTo,ge as fetchIsDelete,Q as fetchLanguageId,de as filteredEmployeesSlice};
