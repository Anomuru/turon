import{R,l as w,n as p,r as c,m as E,j as a,p as S,I as j,a as P,u as M,A as V,h as Y,c as k}from"./index-Cux8sda1.js";import{M as q}from"./modal-BR27MEf1.js";import{S as G}from"./switch-sjHY-EbU.js";import"./index-CO9axSa1.js";import{i as H,m as J,o as U,f as W}from"./oftenUsedSelector-B4R2CTqR.js";import{c as s}from"./filters.module-C8GjSCwu.js";import{a as $,b as z}from"./teacherThunk-qU_2Y3xX.js";import"./cross-BXlnQeE0.js";const ce=R.memo(({active:r,setActive:t,setIsFilter:l,setActiveSwitch:x,activeSwitch:T})=>{const n=w(),_=p(H),C=p(J),[i,g]=c.useState(),[o,m]=c.useState(),[u,A]=c.useState("all"),[d,b]=c.useState("all"),{"*":D}=E();function h(e,L,B,O){n(z({subjId:e,langId:L,untilAge:O,fromAge:B})),l(!0)}const F=e=>{e!==u&&(A(e),h(e,d,i,o))},y=e=>{e!==d&&(b(e),h(u,e,i,o))},N=e=>{g(e.target.value),h(u,d,e.target.value,o)},v=e=>{m(e.target.value),h(u,d,i,e.target.value)},I=e=>{x(e),n($({userBranchId:D}))};return c.useEffect(()=>{n(U()),n(W())},[]),a.jsx(q,{active:r,setActive:t,children:a.jsxs("div",{className:s.filter,children:[a.jsx("h1",{children:"Filter"}),a.jsxs("div",{className:s.filter__container,children:[a.jsx(S,{title:"Fan",options:C,extraClass:s.filter__select,onChangeOption:e=>F(e)}),a.jsxs("div",{className:s.filter__age,children:[a.jsx(j,{type:"number",extraClassName:s.filter__input,placeholder:"Yosh (От)",onChange:e=>g(e.target.value),onBlur:N,defaultValue:i}),a.jsx(j,{type:"number",extraClassName:s.filter__input,placeholder:"Yosh (До)",onChange:e=>m(e.target.value),onBlur:v,defaultValue:o})]}),a.jsx(S,{title:"Til",options:_,extraClass:s.filter__select,onChangeOption:e=>y(e)}),a.jsxs("div",{className:s.filter__switch,children:[a.jsx("p",{children:"O’chirilgan"}),a.jsx(G,{onChangeSwitch:I,activeSwitch:T})]})]})]})})}),f=P("filterTeacher/fetchTeachersFilter",async r=>{const{request:t}=M();return await t(`${V}`,"POST",JSON.stringify(r),Y())}),K={filtered:null,loading:!1,error:null},Q=k({name:"filterTeachers",initialState:K,reducers:{},extraReducers:r=>r.addCase(f.pending,t=>{t.loading=!0,t.error=null}).addCase(f.fulfilled,(t,l)=>{t.filtered=l.payload,t.loading=!1,t.error=null}).addCase(f.rejected,(t,l)=>{t.loading=!1,t.error=l.payload??null})}),ne=Q.reducer;export{ce as TeacherFilter,ne as filteredTeachersSlice};
