import{u as S,j as e,I as N,dk as w,h as q,w as m,a as p,r as j,b as M,aY as P,g as A,em as O,dA as R,en as E,ca as F,cb as u}from"./index-B1KXs2zi.js";import{d as $}from"./capitalSelector-C2TPQAkZ.js";const D="_accounting_1y3qh_1",B="_accounting__payment_1y3qh_12",H="_accounting__header_1y3qh_12",v={accounting:D,accounting__payment:B,accounting__header:H},L=({paymentType:t,setSelectedRadio:c,ot:n,to:h,setOt:s,setTo:a,radio:l,onChange:b})=>(S(),e.jsxs("div",{className:v.accounting,children:[e.jsxs("div",{className:v.accounting__header,children:[e.jsx(N,{type:"date",name:"ot",onChange:d=>s(d.target.value),value:n?.ot}),e.jsx(N,{type:"date",name:"do",onChange:d=>a(d.target.value),value:h?.to})]}),e.jsx("div",{className:v.accounting__payment,children:t.map(d=>e.jsx(w,{children:d.name,checked:l===d.id,onChange:()=>c(d.id)}))})]})),U="_ul_3qyer_1",Y="_other__item_3qyer_10",z="_active_3qyer_17",g={ul:U,other__item:Y,active:z},G=({filter:t,activeMenu:c,setPage:n,setActive:h})=>e.jsx("ul",{className:g.ul,children:t.map((s,a)=>e.jsx("li",{className:q(g.other__item,{[g.active]:c===s.name}),onClick:()=>{n(s.name),h(s.name)},children:s.label},a))}),J=({students:t,extraClass:c,formatSalary:n})=>{const s=t?.students?.student_data?.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsxs("td",{children:[a.name,"  ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.payment_sum)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:c,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"To'lov"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:s})]})})},K=t=>t.inkasatsiyaSlice.inkasatsiya,Q=({overhead:t,extraClass:c,formatSalary:n})=>{const s=t?.overheads?.overhead_data?.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.payment.name}),e.jsx("td",{children:n(a.price)}),e.jsx("td",{children:a.created})]}));return e.jsx("div",{className:c,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:s})]})})},V=({capital:t,extraClass:c,formatSalary:n})=>{const s=t?.capitals?.capital_data?.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.payment_type.name}),e.jsx("td",{children:n(a.price)}),e.jsx("td",{children:a.added_date})]}));return e.jsx("div",{className:c,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Nomi"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Narxi"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:s})]})})},W=({teacher:t,extraClass:c,formatSalary:n})=>{console.log(t,"teacabsdh abshd");const s=t?.teachers?.teacher_data?.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsxs("td",{children:[a.name," ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.salary)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:c,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:s})]})})},X=({workers:t,extraClass:c,formatSalary:n})=>{const s=t?.workers?.worker_data?.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:l+1}),e.jsxs("td",{children:[a.name," ",a.surname]}),e.jsx("td",{children:a.payment_type_name}),e.jsx("td",{children:n(a.salary)}),e.jsx("td",{children:a.date})]}));return e.jsx("div",{className:c,children:e.jsxs(m,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Ism Familiya"}),e.jsx("th",{children:"To'lov turi"}),e.jsx("th",{children:"Oylik"}),e.jsx("th",{children:"Sana"})]})}),e.jsx("tbody",{children:s})]})})},Z="_overalMain_1211f_1",ee="_overal_1211f_1",ae="_inkasatsiya_1211f_17",te="_table_1211f_28",o={overalMain:Z,overal:ee,inkasatsiya:ae,table:te},k=[{name:"studentsPayments",label:"student payment"},{name:"teachersSalary",label:"teacher salary"},{name:"employeesSalary",label:"employer salary"},{name:"overhead",label:"overhead"},{name:"capital",label:"capital"}],re=()=>{const t=S(),c=p($),[n,h]=j.useState(k[0].name),s=M();let{locationId:a}=P();const[l,b]=j.useState([]),[d,T]=j.useState([]),r=p(K),[y,C]=j.useState([]),_=p(A);j.useEffect(()=>{if(l.length&&d.length&&y>0){const x={do:l,ot:d,payment_type:y,branch:_.id};t(O({res:x,branchId:_.id}))}t(R())},[l,d,y,_]);const i=x=>Number(x).toLocaleString(),f=()=>{switch(n){case"studentsPayments":return e.jsxs("h2",{children:["o'quvchilarning umimiy to'lovi : ",r?.students?.student_total_payment?i(r?.students?.student_total_payment):0," "]});case"teachersSalary":return e.jsxs("h2",{children:["O'qituvchilarning umumiy to'lovi : ",r?.teachers?.teacher_total_salary?i(r?.teachers?.teacher_total_salary):0," "]});case"employeesSalary":return e.jsxs("h2",{children:["Ishchilarning umumiy to'lovi : ",r?.workers?.worker_total_salary?i(r?.workers?.worker_total_salary):0," "]});case"overhead":return e.jsxs("h2",{children:["overheadning umumiy to'lovi : ",r?.overheads?.total_overhead_payment?i(r?.overheads?.total_overhead_payment):0," "]});case"capital":return e.jsxs("h2",{children:["capitalning umumiy to'lovi : ",r?.capitals?.total_capital?i(r?.capitals?.total_capital):0]})}},I=j.useCallback(x=>{t(E({value:x})),s(`./${x}`)},[s]);return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",padding:"2rem"},children:[r.overall?e.jsxs("div",{className:o.overalMain,children:["Umumiy : ",i(r.overall)]}):null,e.jsxs("div",{className:o.overal,children:[f(),e.jsx("div",{className:o.inkasatsiya,children:e.jsx(L,{activeMenu:n,paymentType:c,to:l,setTo:b,ot:d,setOt:T,setSelectedRadio:C,radio:y})})]}),e.jsx(G,{activeMenu:n,setActive:h,setPage:I,filter:k}),e.jsxs(F,{children:[e.jsx(u,{path:"teachersSalary",element:e.jsx(W,{formatSalary:i,extraClass:o.table,teacher:r,path:"teachersSalary",locationId:a})}),e.jsx(u,{path:"employeesSalary",element:e.jsx(X,{formatSalary:i,extraClass:o.table,path:"employeesSalary",workers:r,locationId:a})}),e.jsx(u,{path:"overhead",element:e.jsx(Q,{formatSalary:i,extraClass:o.table,overhead:r,path:"overhead",locationId:a})}),e.jsx(u,{path:"studentsPayments",element:e.jsx(J,{formatSalary:i,extraClass:o.table,students:r,locationId:a})}),e.jsx(u,{path:"capital",element:e.jsx(V,{formatSalary:i,extraClass:o.table,capital:r,path:"capital",locationId:a})})]})]})};export{re as Inkasatsiya};
